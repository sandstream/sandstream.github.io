/*! jquery-intelecomchat - v1.16.3 - 2020-08-14 */!function(a){"function"==typeof define&&define.amd?define("intelecom.chat",["jquery","jqueryui","knockout","moment","knockout.command","knockout.mapping","underscore","underscore.string","log","starrr"],a):a(jQuery,void 0,ko,moment,void 0,void 0,_,window.s,log,void 0)}(function(a,b,c,d,e,f,g,h,i,j){"function"==typeof require&&(c.asyncCommand=e.asyncCommand,c.command=e.command,c.mapping=f),g.string=h;var k=a;if(!a.support.cors&&window.XDomainRequest){var l=/^https?:\/\//i,m=/^get|post$/i,n=new RegExp("^"+location.protocol,"i"),o=/\/json/i,p=/\/xml/i;a.ajaxTransport("text html xml json",function(a,b){if(a.crossDomain&&a.async&&m.test(a.type)&&l.test(b.url)&&n.test(b.url)){var c=null,d=(b.dataType||"").toLowerCase(),e=a.url.split("?");return e[0]=g.string.rtrim(e[0],["/"]),e[0]+="Ie/",a.url=e.join("?"),{send:function(e,f){c=new window.XDomainRequest,/^\d+$/.test(b.timeout)&&(c.timeout=b.timeout),c.ontimeout=function(){f(500,"timeout")},c.onload=function(){var a="Content-Length: "+c.responseText.length+"\r\nContent-Type: "+c.contentType,b={code:200,message:"success"},e={text:c.responseText};try{if("json"===d||"text"!==d&&o.test(c.contentType))try{e.json=k.parseJSON(c.responseText)}catch(a){b.code=500,b.message="parseerror"}else if("xml"===d||"text"!==d&&p.test(c.contentType)){var g=new ActiveXObject("Microsoft.XMLDOM");g.async=!1;try{g.loadXML(c.responseText)}catch(a){g=void 0}if(!g||!g.documentElement||g.getElementsByTagName("parsererror").length)throw b.code=500,b.message="parseerror","Invalid XML: "+c.responseText;e.xml=g}}catch(a){throw a}finally{f(b.code,b.message,e,a)}},c.onerror=function(){f(500,"error",{text:c.responseText})},c.onprogress=function(){};var h=b.data?g.isString(b.data)?b.data:JSON.stringify(b.data):"";c.open(a.type,a.url),c.send(h)},abort:function(){c&&c.abort()}}}})}var q={create:function(){function a(){}return function(b){return a.prototype=b,new a}}(),extend:function(a){var b,c,d=Array.prototype.slice.call(arguments,1);for(c=0;c<d.length;++c)for(b in d[c])a[b]=d[c][b];return a}};return function(){var a;q.helpers={init:function(b){a=b},ajax:function(a,b){var c=this.getFullUrl(a);return k.support.cors=!0,k.ajax({url:c,type:b.type||"GET",dataType:b.dataType||"json",data:b.data,contentType:b.contentType||"application/x-www-form-urlencoded; charset=UTF-8",cache:b.cache||!1,traditional:b.traditional||!1,success:function(a,b){a.IsRedirecting&&(window.location.href=a.RedirectUrl)}})},getFullUrl:function(b){var c=h.trim(a);return h.startsWith(b,"/")?h.rtrim(c,["/"])+b:h.startsWith(b,"http")?b:c+b},getQueryStringValue:function(a){return decodeURIComponent(window.location.search.replace(new RegExp("^(?:.*[&\\?]"+encodeURIComponent(a).replace(/[\.\+\*]/g,"\\$&")+"(?:\\=([^&]*))?)?.*$","i"),"$1"))},getV1BaseUrl:function(){var a=this.getFullUrl("");return h.startsWith(a,"https://devchat")||-1!==a.indexOf("localhost")?"https://devapi.puzzel.com/chat/v1":h.startsWith(a,"https://testchat")?"https://testapi.puzzel.com/chat/v1":h.startsWith(a,"https://qachat")?"https://qaapi.puzzel.com/chat/v1":"https://api.puzzel.com/chat/v1"}}}(),function(){function a(a,b,k,q){var t,u,v,w;o=a,p=b,r=k,s=q,h=p.indexOf("Android")>-1?"android":p.indexOf("iPad")>-1?"ipad":"",t=o.toLowerCase(),u=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[],g=u[1]?u[1]:"",v=u[2]||"0",w="msie"===g,i="android"===h,j=d(),l=e(w,v),n=c(),m=f()}function b(){var a,b,c=k("body"),d=0;return b=k("<div style='position:fixed;right:0px;bottom:0px;width:1px;height:1px;'/>"),c.append(b),a=b.position(),b.remove(),"-ms-autohiding-scrollbar"===c.css("-ms-overflow-style")&&(d=17),{width:Math.round(a.left-d),height:Math.round(a.top)}}function c(){function a(a){var b=document.createElement("div");return b.style.cssText=a+"width:calc(1px);",!!b.style.length}return a("")||a("-webkit-")||a("-moz-")}function d(){var a=o||r||s;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(a)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(a.substr(0,4))}function e(a,b){if(a){var c=parseInt(b,10);if(c<9||9==c&&"https:"!=location.protocol)return!1}return!0}function f(){return!j&&"ipad"!==h||"webkit"!==g&&"chrome"!==g}var g,h,i,j,l,m,n,o,p,r,s;q.browserInfo={init:a,getSize:b,hasCalcSupport:function(){return n},isAndroid:function(){return i},isBrowserSupported:function(){return l},isMobile:function(){return j},isAudioSupported:function(){return m}}}(),function(){function a(a,b,c,d,e,f,g,h,i,j,k){var l=[null===a?"":a,null===b?"":b,null===c?"":c,null===d?"":d,null===e?"":e,null===f?"":f,null===g?"":g,null===h?"":h,null===i?"":i,null===j?"":j,null===k?"":k];return encodeURIComponent(l.join(","))}function b(a){var b=decodeURIComponent(a).split(","),c=parseInt(b[3],10),d=parseInt(b[5],10),e=parseInt(b[6],10),f=parseInt(b[7],10),g=parseInt(b[8],10);return{iqSessionId:""===b[0]?null:b[0],requestId:""===b[1]?null:b[1],minimized:"true"===b[2]||"false"!==b[2]&&null,fontSize:isNaN(c)?null:c,mute:"true"===b[4]||"false"!==b[4]&&null,left:isNaN(d)?null:d,top:isNaN(e)?null:e,width:isNaN(f)?null:f,height:isNaN(g)?null:g,horizontal:""===b[9]?null:b[9],vertical:""===b[10]?null:b[10]}}function c(b,c,d,f,g,h,i,j,k,l,m){var n=a(b,c,d,f,g,h,i,j,k,l,m),o=new Date;o.setTime(o.getTime()+72e5),document.cookie=e+"="+n+"; expires="+o.toGMTString()+"; path=/"}function d(){for(var a=e+"=",c=document.cookie.split(";"),d=0;d<c.length;d++){for(var f=c[d];" "===f.charAt(0);)f=f.substring(1,f.length);if(0===f.indexOf(a))return b(f.substring(a.length,f.length))}return{iqSessionId:null,requestId:null,minimized:null,fontSize:null,mute:null,left:null,right:null,width:null,height:null,horizontal:null,vertical:null}}var e,f={};q.chatCookies={init:function(a){e="intelecomchat_"+a},setSessionId:function(a){return f.iqSessionId=a,this},setRequestId:function(a){return f.requestId=a,this},setMinimized:function(a){return f.minimized=a,this},setFontSize:function(a){return f.fontSize=a,this},setMute:function(a){return f.mute=a,this},setLeft:function(a){return f.left=a,this},setTop:function(a){return f.top=a,this},setWidth:function(a){return f.width=a,this},setHeight:function(a){return f.height=a,this},setHorizontal:function(a){return f.horizontal=a,this},setVertical:function(a){return f.vertical=a,this},save:function(){var a=d();c(void 0===f.iqSessionId?a.iqSessionId:f.iqSessionId,void 0===f.requestId?a.requestId:f.requestId,void 0===f.minimized?a.minimized:f.minimized,void 0===f.fontSize?a.fontSize:f.fontSize,void 0===f.mute?a.mute:f.mute,void 0===f.left?a.left:f.left,void 0===f.top?a.top:f.top,void 0===f.width?a.width:f.width,void 0===f.height?a.height:f.height,void 0===f.horizontal?a.horizontal:f.horizontal,void 0===f.vertical?a.vertical:f.vertical),f={}},clear:function(){c(null,null,null,null,null,null,null,null,null,null,null),f={}},get:d}}(),function(){q.chatOptions={chatlink:".chatstarter",horizontalChatPosition:"right",verticalChatPosition:"bottom",horizontalStarterPosition:"right",verticalStarterPosition:"middle",customEmailCss:"",chatURL:"https://chat.puzzel.com/",showForm:!1,draggable:!0,resizable:!0,customerKey:-1,visualQueueId:0,timeId:"",timeOpenExits:["open"],nickName:"",chatId:"",chatIssueLabel:"",chatIssuePlaceholder:"",chatIssue:"",chatIssues:[],queueLabel:"",queuePlaceholder:"",queueKey:"",queues:[],altQueueKey:"",languageCode:"UK",msgWelcomeHeader:"",msgWelcome:"",msgWelcomeFull:"",msgWelcomeEmpty:"",msgWelcomePause:"",msgReject:"",msgClosedHeader:"",msgTimeClosed:"",msgNoAgents:"",msgGoodbyeHeader:"",msgGoodbye:"",emailSubject:"",fromEmailDisplayName:"",emailPreText:"",emailPostText:"",emailLogoUrl:"",emailLogoLink:"",emailLogoAlt:"",emailTopBackgroundColor:"#FFFFFF",emailTopLineColor:"#555555",emailBottomLineColor:"#555555",emailTextStyle:"",variables:{},showIntro:!1,showAgentLoggedOnInIntro:!1,showAgentActiveInIntro:!1,showNumberInQueueInIntro:!1,showStarter:!0,showStarterWhenMinimized:!0,showVariablesInIntro:!0,showIpAddressInIntro:!1,showSendEmail:!0,delayStarterSeconds:0,inputFields:{},visualQueueExpression:function(a){return a&&a.AgentsLoggedIn>0},visualQueueConditions:"",maxinfoMessageLength:30,useTracker:!1,trackerArea:"",trackerMaxTracks:30,enableSurvey:!0,surveyOnlyWhenConnected:!0,surveyMaxScore:5,surveyMinScore:1,surveyType:"star",startTextFromBottom:!1,msgSurveyQuestion:"",msgSurveyHeader:"",startChatImmediately:!1,msgOptionHeader:"",msgOptionHeaderConfirmed:"",msgOptionButton:"",msgOptionConfirmed:"",msgOptionCancel:"",notifyChatterOnNewMessage:!0,msgNotificationText:"",sendEmailAutomatically:!1,authConnectionName:"",authClientId:"",authEndpoint:"",itcAuthCode:"",authMapping:{},msgFormHeader:"",msgFormIngress:"",denyArchiving:!1,showDenyArchiving:!1,log:!1,timeId2QueueKeyMapping:{},timeId2Map:""}}(),function(){var a,b={left:"intelecomStarterLeft",center:"intelecomStarterCenter",right:"intelecomStarterRight"},c={top:"intelecomStarterTop",bottom:"intelecomStarterBottom",middle:"intelecomStarterMiddle"};q.chatStarter={init:function(b,c){a=k('<div class="intelecomchatstarter itc_Chat__starter" style="display:none;"></div>'),b.prepend(a),a.on("click",c)},setPosition:function(d,e){var f;for(f in b)a.removeClass(b[f]);for(f in c)a.removeClass(c[f]);a.addClass(b[d]||b.right),a.addClass(c[e]||c.middle)},show:function(){a.show()},hide:function(){a.hide()}}}(),function(){function a(){function a(){d=q.chat.create(e,f),d.init(),b.resolve()}var b=k.Deferred();return d?b.resolve():void 0===q.chat?require(["intelecomchat.part2"],a):a(),b}function b(){return a().done(function(){d.startChat()}),!1}function c(a){return!(!f.log||"function"!=typeof i)&&i(a)}var d,e,f={};q.chatInitialiser={init:function(a,c){var d=this;d.setOptions(q.chatOptions),this.getConfiguration(c.customerKey,c.configurationId).done(function(){d.setOptions(c),f.resizable=f.resizable&&q.browserInfo.hasCalcSupport(),k.inArray(f.horizontalChatPosition,["left","center","right"])<0&&(f.horizontalChatPosition="right"),k.inArray(f.verticalChatPosition,["top","middle","bottom"])<0&&(f.verticalChatPosition="bottom");var g=q.chatCookies.get(),h=!1===g.minimized||f.startChatImmediately&&(null===g.minimized||null===g.iqSessionId),i=g.iqSessionId||h?0:1e3*f.delayStarterSeconds;e=a,q.chatStarter.init(e,b),q.chatStarter.setPosition(f.horizontalStarterPosition,f.verticalStarterPosition),k(f.chatlink).on("click",b),q.browserInfo.isBrowserSupported()?setTimeout(function(){g.iqSessionId?d.startupChat(g,h):d.checkIfChatOpen(f.customerKey,f.timeId,f.timeOpenExits,f.msgTimeClosed,f.visualQueueId,f.msgNoAgents,f.visualQueueExpression,f.visualQueueConditions).done(function(){d.startupChat(g,h)}).fail(function(){f.log&&console&&console.log("Contactcenter is closed.")})},i):f.log&&console&&console.log("Your browser doesn't support this chat. Please upgrade your browser.")})},startupChat:function(a,c){c?b():!d&&(f.showStarter||!0===a.minimized&&f.showStarterWhenMinimized)&&q.chatStarter.show()},setOptions:function(a){k.extend(f,a),d&&d.reloadOptions(a)},startChat:function(){b()},checkIfChatOpen:function(a,b,c,d,f,g,h,i){var j=this,l=k.Deferred();return j.checkTimeExit(a,b,c,d).done(function(){j.checkQueueStatus(a,f,g,h,i).done(function(){return l.resolve()}).fail(function(){return e.trigger("onContactCenterClosed",["CheckQueueStatus",{VisualQueueId:f,VisualQueueExpression:h,VisualQueueConditions:i,Message:g}]),l.reject()})}).fail(function(){return e.trigger("onContactCenterClosed",["CheckTimeExit",{TimeId:b,TimeOpenExits:c,Message:d}]),l.reject()}),l.promise()},checkQueueStatus:function(a,b,e,f,g){var h=this,i=k.Deferred();try{if(!a||!b)return i.resolve();h.getQueueStatusService(a,b,e).done(function(a){if(a.Ok){if(c("get queue status OK."),a.Queue){try{if(g){var b="return (q ",e=g.match(/AgentsLoggedIn>=\d+/);e&&(b+=" && q."+e),e=g.match(/QueueSize<=\d+/),e&&(b+=" && q."+e),e=g.match(/WaitTimeMax<=\d+/),e&&(b+=" && q."+e),e=g.match(/AgentsReady>=\d+/),e&&(b+=" && q."+e),b+=" )",f=new Function("q",b)}if("function"==typeof f&&f(a.Queue))return c("Queue open!"),i.resolve();c("Queue closed!")}catch(a){c("Calculate queue status failed.",a.message)}d&&d.vm.msgClosed(a.ClosedMessage)}else c("Did not get any queue result");return i.reject()}return c("get queue status failed. ",a.message),i.reject()}).fail(function(a){return c("get queue status failed. ",a),i.reject()})}catch(a){return c("Get queue status failed.",a.message),i.reject()}return i.promise()},checkTimeExit:function(a,b,e,f){var g=this,h=k.Deferred();try{if(!b)return h.resolve();g.getTimeExitService(a,b,f).done(function(a){if(a.Ok){if(c("get time exit OK."),a.Exit){if(k.inArray(a.Exit,e)>-1)return c("Callcenter open: "+a.Exit),h.resolve();d&&d.vm.msgClosed(a.ClosedMessage),c("Callcenter closed, Time exit found now: "+a.Exit)}else c("Did not get any time exit");return h.reject()}return c("get time exit failed. ",a.message),h.reject()}).fail(function(a){return c("get time exit failed. ",a),h.reject()})}catch(a){return c("get time exit failed.",a.message),h.reject()}return h.promise()},getQueueStatusService:function(a,b,c){return q.helpers.ajax("/Queue/GetQueueStatusJson/",{action:"GetQueueStatus",type:"POST",data:{customerKey:a,visualQueueId:b,closedMessage:c}})},getTimeExitService:function(a,b,c){return q.helpers.ajax("/Time/GetTimeExitJson/",{action:"GetTimeExit",type:"POST",data:{customerKey:a,timeId:b,closedMessage:c}})},getConfiguration:function(a,b){var d=this,e=k.Deferred();try{if(!b)return e.resolve();d.getConfigurationService(a,b).done(function(a){return d.setOptions(a),e.resolve()}).fail(function(a){return c("get configuration failed. ",a),e.reject()})}catch(a){return c("get configuration failed.",a.message),e.reject()}return e.promise()},getConfigurationService:function(a,b){var c=q.helpers.getV1BaseUrl()+"/configurations/"+a+"-"+b;return q.helpers.ajax(c,{action:"GetConfiguration"})},updateVariables:function(a){d?d.updateVariables(a):c("Cannot update variables before chat is started.")}}}(),function(a){a.widget("intelecom.intelecomChat",{_create:function(){var a=this;if(!this.options.customerKey)return void alert("customerKey required");a.element.on("onChatStart",function(b,c,d){a._trigger("beforeChatStart",b,[c,d]),a._trigger("onChatStart",b,[c,d])}),a.element.on("onChatEnd",function(b,c,d){a._trigger("afterChatEnd",b,[c,d]),a._trigger("onChatEnd",b,[c,d])}),a.element.on("onChatWindowClose",function(b,c,d){a._trigger("afterChatWindowClose",b,[c,d]),a._trigger("onChatWindowClose",b,[c,d])}),a.element.on("onContactCenterClosed",function(b,c,d){a._trigger("onContactCenterClosed",b,[c,d])}),a.element.on("onChatWindowMinimize",function(b,c,d){a._trigger("onChatWindowMinimize",b,[c,d])}),a.element.on("onChatWindowShow",function(b,c,d){a._trigger("onChatWindowShow",b,[c,d])}),a.element.on("onChatInitialized",function(b,c,d){a._trigger("onChatInitialized",b,[c,d])}),a.element.on("onChatCommand",function(b,c,d){a._trigger("onChatCommand",b,[c,d])}),q.helpers.init(this.options.chatURL||q.chatOptions.chatURL),q.browserInfo.init(navigator.userAgent,navigator.appVersion,navigator.vendor,window.opera),q.chatCookies.init(this.options.customerKey),q.chatInitialiser.init(a.element,this.options)},reloadOptions:function(a){q.chatInitialiser.setOptions(a)},startChat:function(){q.chatInitialiser.startChat()},updateVariables:function(a){q.chatInitialiser.updateVariables(a)}})}(a),function(){function a(){var a,b;for(a=0;a<arguments.length;++a)if(void 0!==(b=arguments[a])&&null!==b)return b;throw"There are no default value"}function b(b){d.NickName=a(b.nickName,d.NickName,""),d.ChatId=a(b.chatId,d.ChatId,""),d.ChatIssue=a(b.chatIssue,d.ChatIssue,""),d.CustomerKey=a(b.customerKey,d.CustomerKey,""),d.QueueKey=a(b.queueKey,d.QueueKey,""),d.LanguageCode=a(b.languageCode,d.LanguageCode,""),d.UICulture="",d.MsgWelcomeHeader=a(b.msgWelcomeHeader,d.MsgWelcomeHeader,""),d.MsgWelcome=a(b.msgWelcome,d.MsgWelcome,""),d.MsgWelcomeFull=a(b.msgWelcomeFull,d.MsgWelcomeFull,""),d.MsgWelcomeEmpty=a(b.msgWelcomeEmpty,d.MsgWelcomeEmpty,""),d.MsgWelcomePause=a(b.msgWelcomePause,d.MsgWelcomePause,""),d.MsgReject=a(b.msgReject,d.MsgReject,""),d.AltQueueKey=a(b.altQueueKey,d.AltQueueKey,""),d.CustomerCss=a(b.customEmailCss,d.CustomerCss,""),d.MsgGoodbyeHeader=a(b.msgGoodbyeHeader,d.MsgGoodbyeHeader,""),d.MsgGoodbye=a(b.msgGoodbye,d.MsgGoodbye,""),d.EmailSubject=a(b.emailSubject,d.EmailSubject,""),d.ShowAgentLoggedOnInIntro=a(b.showAgentLoggedOnInIntro,d.ShowAgentLoggedOnInIntro,!1),d.ShowAgentActiveInIntro=a(b.showAgentActiveInIntro,d.ShowAgentActiveInIntro,!1),d.ShowNumberInQueueInIntro=a(b.showNumberInQueueInIntro,d.ShowNumberInQueueInIntro,!1),d.FromEmailDisplayName=a(b.fromEmailDisplayName,d.FromEmailDisplayName,""),d.ShowIpAddressInIntro=a(b.showIpAddressInIntro,d.ShowIpAddressInIntro,!1),d.Variables=a(b.variables,d.Variables,{}),d.ShowVariablesInIntro=a(b.showVariablesInIntro,d.ShowVariablesInIntro,!1),d.RequestId=a(b.requestId,d.RequestId,0),d.IqSessionId=a(b.iqSessionId,d.IqSessionId,""),d.EnteredQueueKey=a(d.EnteredQueueKey,""),d.CaptchaResult=a(b.captchaResult,d.CaptchaResult,""),d.CaptchaTicket=a(b.captchaTicket,d.CaptchaTicket,""),d.CaptchaMessage=a(b.captchaMessage,d.CaptchaMessage,""),d.ShowCaptcha=a(d.ShowCaptcha,!1),d.EncrNickName="",d.EncrChatId="",d.EnableSurvey=a(b.enableSurvey,d.EnableSurvey,!0),d.MsgSurveyQuestion=a(b.msgSurveyQuestion,d.MsgSurveyQuestion,""),d.MsgSurveyHeader=a(b.msgSurveyHeader,d.MsgSurveyHeader,""),d.IsMobile=a(b.isMobile,q.browserInfo.isMobile(),!1),d.ShowIsMobileInIntro=a(b.showIsMobileInIntro,d.ShowIsMobileInIntro,!0),d.SendEmailAutomatically=a(b.sendEmailAutomatically,d.SendEmailAutomatically,!1),d.AuthCode=a(b.itcAuthCode,d.AuthCode,""),d.AuthMapping=a(b.authMapping,d.AuthMapping,{}),d.DenyArchiving=a(b.denyArchiving,d.DenyArchiving,!1),d.AuthConnectionName=a(b.authConnectionName,d.AuthConnectionName,"")}function c(a){var b,c;for(b in a)switch(c=a[b],b){case"EnableSurvey":d[b]=d[b]&&c;break;default:d[b]=c}}var d;q.chatModel={create:function(a){return d={},b(a||{}),d},update:function(a){b(a||{})},mergeWithServer:c}}(),function(){function a(a){var b=c.observable(!0),e=c.observable(0),f=4;d={},q.extend(d,{activeUsers:c.observableArray([]),afterExit:c.observable(!1),agentTypingStatus:{timeStamp:c.observable(null),nickName:c.observable(""),isTyping:c.pureComputed(function(){return null!==d.agentTypingStatus.timeStamp()})},beenInConference:c.observable(!1),browserSupported:c.observable(!1),captcha:c.observable(!1),captchaResult:c.observable(""),captchaMessage:c.observable(""),chatMessages:c.observableArray([]),clientTypingStatus:{timeStamp:c.observable(null)},denyArchiving:c.observable(!1),enteredCaptchaResult:c.observable(""),enteredFormName:c.observable(""),enteredChatId:c.observable(""),enteredFormIssue:c.observable(""),errorMessage:c.observable(""),errorMessageHeader:c.observable(""),fontSize:c.computed({read:function(){return e()},write:function(a){e(a>f?0:a)}}),fontSizeIsMax:c.computed(function(){return e()===f}),firstStart:c.observable(!1),inputFields:c.observableArray([]),infoMessageStr:c.observable(""),inActiveChat:c.observable(!1),lastMessageId:c.observable(0),messageText:c.observable(""),minimized:c.observable(!0),mute:c.computed({read:function(){return b()},write:function(a){q.browserInfo.isAudioSupported()&&b(a)}}),msgGoodbyeHeader:c.observable(""),msgGoodbye:c.observable(""),msgClosed:c.observable(""),needPollForQueuePosition:c.observable(!0),emailMessage:c.observable(""),requestDisconnected:c.observable(!1),showDenyArchiving:c.observable(!1),showSurvey:c.observable(!1),showForm:c.observable(!1),showError:c.observable(!1),showLoading:c.observable(!0),showIntro:c.observable(!1),showFlashingInfoMessage:c.observable(!1),toEmailAddress:c.observable(""),sendSurveyMessage:c.observable(""),surveyComment:c.observable(""),surveyResult:c.observable(-1),msgSurveyHeader:c.observable(""),msgSurveyQuestion:c.observable(""),optionResult:c.observable(""),notification:c.observable(),msgFormHeader:c.observable(""),msgFormIngress:c.observable(""),maxCharsSend:c.observable("")}),q.extend(d,{sessionState:c.computed(function(){return d.requestDisconnected()?"DISCONNECTED":1===d.activeUsers().length?"CONNECTED":d.activeUsers().length>1?(d.beenInConference(!0),"CONFERENCE"):d.needPollForQueuePosition()?"IN QUEUE":d.inChatDialog()?"ALONE":"EXIT"}),inChatDialog:c.computed(function(){return!(d.afterExit()||d.captcha()||d.showForm()||d.showError()||d.showLoading()||d.showSurvey())}),showStarter:c.computed(function(){return(a.showStarter||a.showStarterWhenMinimized&&d.inActiveChat())&&d.minimized()&&d.browserSupported()}),infoState:c.pureComputed(function(){var a=d.sessionState();return'<span class="intelecomchat__infostatelamp '+({CONNECTED:"intelecomchat_infostatelamp_connected",CONFERENCE:"intelecomchat_infostatelamp_connected","IN QUEUE":"intelecomchat_infostatelamp_queue"}[a]||"intelecomchat_infostatelamp_disconnected")+'"></span>'+q.langChat.l(a)}),infoMessage:c.pureComputed(function(){var b,c,e,f=d.sessionState();return d.showFlashingInfoMessage()?b=d.infoMessageStr():"CONNECTED"==f?(c=d.activeUsers()[0].NickName,b=q.langChat.l("msg_chatting_with")+" "+c,b.length>a.maxinfoMessageLength&&(b=c)):"CONFERENCE"==f?(c=d.activeUsers()[0].NickName,e=d.activeUsers().length-1,b=q.langChat.l("msg_chatting_with")+" "+c+" + "+e,b.length>a.maxinfoMessageLength&&(b=c)):b="ALONE"==f||"DISCONNECTED"==f?q.langChat.l("msg_chat_has_ended"):d.infoMessageStr(),b.length>a.maxinfoMessageLength&&(b=g.string.truncate(b,a.maxinfoMessageLength-3)),b}),disableEditor:c.pureComputed(function(){return"ALONE"==d.sessionState()||"DISCONNECTED"==d.sessionState()}),captchaPlaceholder:c.pureComputed(function(){return q.langChat.l("placeholder_captcha")+": "+d.captchaResult()})})}function b(a){return{inputLabel:c.observable(a.inputLabel||""),inputVariableName:c.observable(a.inputVariableName||"unknownInputName"),inputPlaceholder:c.observable(a.inputPlaceholder||""),inputType:c.observable(a.inputType||"text"),inputMaxlength:c.observable(a.inputMaxlength||""),inputRequired:c.observable(a.inputRequired||!1),inputValue:c.observable(a.inputValue||""),inputItems:c.observableArray(a.inputItems)}}var d;q.chatViewModel={create:function(b){return a(b),d},addInputField:function(a){var c=b(a);d.inputFields.push(c)}}}(),function(){function a(a,b){var c=[];return k(k.parseXML(b)).find("text").each(function(b,d){c.push({text:d.textContent,optionName:"intelecomoption"+a})}),c}function b(a,b){var d=!0,e=!0,f=!0,g=q.chatOptions.msgOptionConfirmed||q.langChat.l("lbl_confirm_option"),h=q.chatOptions.msgOptionHeader||q.langChat.l("h_option"),i=q.chatOptions.msgOptionHeaderConfirmed||q.chatOptions.msgOptionHeader||q.langChat.l("h_option_confirmed");if(a.Arguments&&a.Arguments.match(/options:/)){var j=a.Arguments.match(/options:showCancel=([^|]*)/);j&&(d="true"===j[1]),j=a.Arguments.match(/options:showConfirmedMsg=([^|]*)/),j&&(e="true"===j[1]),j=a.Arguments.match(/options:showHeader=([^|]*)/),j&&(f="true"===j[1]),j=a.Arguments.match(/options:confirmedMsg=([^|]*)/),j&&(g=j[1]),j=a.Arguments.match(/options:headerIntro=([^|]*)/),j&&(h=j[1]),j=a.Arguments.match(/options:headerConfirmed=([^|]*)/),j&&(i=j[1])}b.offerIntroHeader=c.observable(h),b.offerConfirmedHeader=c.observable(i),b.offerConfirmedMsg=c.observable(g),b.showConfirmedMsg=c.observable(e),b.showHeader=c.observable(f),b.showCancelButton=c.observable(d)}function e(a,b){var d=!1;a.Arguments&&a.Arguments.match(/reaction=thumbs/)&&(d=!0),b.thumbs=c.observable(d),b.thumbsUp=c.observable(!1),b.thumbsDown=c.observable(!1)}var f={key:function(a){return c.utils.unwrapObservable(a.data.id)},Message:{update:function(a){return a.data.replace(/src="(\/ckeditor\/plugins\/smiley)/gim,'src="'+g.string.rtrim(q.chatOptions.chatURL,"/")+"$1")}}};q.chatMessage={create:function(h){var j,l={userId:c.observable(0),messageQueuePosition:c.observable(!1)},m=h.Message;switch(c.mapping.fromJS(h,f,l),l.sentTimeFormatted=c.computed(function(){return d(l.Sent()).format("HH:mm")}),l.systemMessage=c.computed({deferEvaluation:!0,read:function(){return 1!==h.Type||"TYPE_MSG"===m?m:g.string.startsWith(m,"USER_INVITED")?m.substr(m.indexOf("ExtraInfo:")+11)+" "+q.langChat.l("USER_INVITED"):g.string.startsWith(m,"REQUEST_PUTINQUEUE")?q.langChat.l("REQUEST_PUTINQUEUE")+" "+m.substr(m.indexOf("QueueDescript:")+15):g.string.startsWith(m,"REQUEST_QUEUEPOSITION:")?(l.messageQueuePosition(!0),q.langChat.l("msg_number_in_queue_start")+" "+m.substr(m.indexOf("REQUEST_QUEUEPOSITION:")+22)+" "+q.langChat.l("msg_number_in_queue_end")):l.NickName()+" "+(q.langChat.l(m)!=m?q.langChat.l(m):m)}}),h.Type){case 9:try{var n=k.parseJSON(m);l.template=n.template?n.template:"unknown","genericCard"==l.template&&(l.imageUrl=n.image&&n.image.url?n.image.url:"",l.imageAlt=n.image&&n.image.alt?n.image.alt:"",l.imagePosition=n.image&&n.image.position?n.image.position:"top",l.headerText=n.heading&&n.heading.text?n.heading.text:"",l.bodyText=n.body&&n.body.text?n.body.text:"",l.linkText=n.link&&n.link.text?n.link.text:"",l.linkUrl=n.link&&n.link.url?n.link.url:"")}catch(a){i("error when parsing jsonTemplate message: "+a.message),l.template="error"}e(h,l);break;case 6:try{var o=k.parseJSON(m);l.commandId=o.commandId?o.commandId:"unknown",l.command=o.command?o.command:"unknown",l.buttonText=o.buttonText?o.buttonText:l.command,l.headerText=o.headerText?o.headerText:"",l.stateText=c.observable(o.stateText?o.stateText:""),l.data=o.data,l.showCommand=void 0===o.showCommand||o.showCommand,l.showButton=c.observable(void 0===o.showButton||o.showButton)}catch(a){i("error when parsing command message: "+a.message),l.command="error",l.buttonText="error",l.data=null}break;case 5:j=m.match(/(\d+)\|(.*)/),l.offerResultMsgId=j[1],l.offerResultValue=j[2];break;case 4:l.offerOptions=a(l.Id(),m),l.offerResult=c.observable(""),l.selectedRadioValue=c.observable(),l.offerResult.subscribe(function(a){l.selectedRadioValue(a)}),b(h,l),e(h,l);break;case 7:j=m.match(/(\d+)\|(\d+)/),l.thumbsMsgId=j[1],l.thumbsReaction=j[2];break;case 0:1===h.Role&&e(h,l)}return l}}}(),function(){q.langChat=q.extend({languageCode:"",create:function(a){return this.languageCode=a,q.extend(q.create(this),{})},l:function(a){var b=this,c="";switch(b.languageCode){case"NO":c=b.lang_no[a];break;case"SE":c=b.lang_se[a];break;case"DK":c=b.lang_dk[a];break;case"HU":c=b.lang_hu[a];break;case"BG":c=b.lang_bg[a];break;case"FI":c=b.lang_fi[a];break;default:c=b.lang_default[a]}return c},lang_no:{btn_send_email:"send",err_chat_create_email_body:"En feil oppstod da vi skulle lage eposten din. ",err_chat_send_email:"En feil oppstod da vi skulle sende eposten din.",err_chat_send_msg:"En feil oppstod da vi prÃ¸vde Ã¥ sende meldingen din. Den kom dessverre ikke frem.",err_chat_service_not_available:"Beklager, tjenesten er ikke tilgjengelig.",err_enter_email_address:"Skriv inn din epostadresse.",err_not_valid_email_address:"Epostadressen er ikke gyldig.",h_after_exit:"Chatten er avsluttet",h_send_email:"Trenger du en kopi?",lbl_after_exit:"Takk for at du kontaktet oss og velkommen tilbake.",lbl_send_email:"Vi sender deg gjerne chat-dialogen pÃ¥ e-post.",lbl_send_email_adr:"Din e-post",msg_chat_reject:"Beklager vi har for stor pÃ¥gang. Vennligst prÃ¸v igjen siden.",USER_CONNECTED:"er tilkoblet",USER_DISCONNECTED:"har lagt pÃ¥",USER_INVITED:"er invitert med",REQUEST_PUTINQUEUE:"Henvendelsen er satt over til kÃ¸en",msg_is_typing:"skriver melding",msg_number_in_queue_end:"i kÃ¸en",msg_number_in_queue_start:"Du er nummer",msg_want_to_exit:"Er du sikker pÃ¥ at du vil avslutte?",btn_enter_captcha:"OK",h_captcha:"Validering",lbl_captcha:"Vennligst skriv inn koden: ",msg_captcha_entered_is_empty:"Feltet kan ikke vÃ¦re tomt.",msg_captcha_entered_is_wrong:"Beklager, koden var feil.",REQUEST_DISCONNECTED:"har lagt pÃ¥",REQUESTER_INACTIVE:"har mistet forbindelsen",lbl_starter_title:"Chat","IN QUEUE":"I KÃ˜",CONNECTED:"TILKOBLET",CONFERENCE:"KONFERANSE",ALONE:"FRAKOBLET",DISCONNECTED:"FRAKOBLET",msg_chatting_with:"Du chatter med",msg_chat_has_ended:"Chatten er avsluttet",placeholder_message:"Skriv din tekst her",placeholder_captcha:"Kode",placeholder_yourName:"Ditt navn",placeholder_yourEmail:"Din e-post",btn_start_chat:"Start chat",lbl_enterName:"Ditt navn",lbl_enterEmail:"Din e-post",msg_browserNotSupported:"Din nettleser stÃ¸tter ikke denne chatten. Vennligst oppgrader din nettleser.",h_closed:"Stengt",lbl_closed:"Vi beklager, men tjenesten er nÃ¥ stengt.",msg_email_sent_to:"E-posten ble sendt til",err_chat_no_messages_in_email_body:"Beklager, men det tok for lang tid. Innholdet er ikke lenger tilgjengelig.",lbl_survey_question:"Hjelp oss med Ã¥ bli bedre ved Ã¥ vurdere denne chatten.",h_survey_header:"En ting til ...",placeholder_survey_comment:"Legg til en kommentar",btn_send_survey:"send",err_enter_survey:"Du mÃ¥ vurdere chatten fÃ¸r du sender",err_chat_send_survey:"Det oppstod en feil da vi skulle sende din tilbakemelding.",FailedToSendSurvey:"Det oppstod en feil da vi skulle sende din tilbakemelding.",SurveyDisabled:"KundeundersÃ¸kelsen er ikke aktivert.",intelecom_url:"https://www.puzzel.no",h_option:"Vennligst velg",h_option_confirmed:"Du har valgt",btn_confirm_option:"Bekreft",lbl_confirm_option:"Takk!",lbl_cancel_option:"Kanseller",lbl_selectQueue:"Velg kÃ¸",placeholder_selectQueue:"Velg...",lbl_selectFormIssue:"Hva gjelder det?",placeholder_selectFormIssue:"Velg...",new_message_from_agent:"Ny chatmelding",msg_email_sending:"Sender e-post...",err_queue_needs_authentication:"Denne chatten krever at din identitet er autentisert gjennom en tredjeparts applikasjon. Dessverre ser det ikke ut som at du er autentisert.",err_queue_wrong_authentication:"Denne chatten krever at din identitet er autentisert gjennom en tredjeparts applikasjon. Dessverre ser det ikke ut som at du er korrekt autentisert.",err_failed_authentication:"Denne chatten krever at din identitet er autentisert gjennom en tredjeparts applikasjon. Dessverre klarte vi ikke Ã¥ autentisere deg.",lbl_deny_archiving:"Jeg Ã¸nsker ikke at denne chatten skal arkiveres eller sendes til meg"},lang_se:{btn_send_email:"Skicka",
err_chat_create_email_body:"Ett fel uppstod nÃ¤r vi skulle skapa ditt e-post",err_chat_send_email:"Ett fel uppstod nÃ¤r vi skulle sÃ¤nda ditt e-post",err_chat_send_msg:"Ett fel uppstod nÃ¤r vi skulle sÃ¤nda ditt meddelande.",err_chat_service_not_available:"Beklagar, tjÃ¤nsten Ã¤r inte tillgÃ¤nglig",err_enter_email_address:"Skriv in din emailadress",err_not_valid_email_address:"Ogiltig Emailadress",h_after_exit:"Chatten Ã¤r avslutad",h_send_email:"Ã–nskar du en kopia?",lbl_after_exit:"Tack fÃ¶r att du kontaktat oss och vÃ¤lkommen tillbaka.",lbl_send_email:"Vi sÃ¤nder dig gÃ¤rna chattkonversationen per e-post",lbl_send_email_adr:"Din e-post",msg_chat_reject:"Vi har tyvÃ¤rr fÃ¶r stor belastning. Var vÃ¤nlig fÃ¶rsÃ¶k igen senare.",USER_CONNECTED:"Ã¤r ansluten",USER_DISCONNECTED:"har lagt pÃ¥",USER_INVITED:"Ã¤r inviterad",REQUEST_PUTINQUEUE:"Din fÃ¶rfrÃ¥gan Ã¤r placerad i kÃ¶",msg_is_typing:"skriver meddelande",msg_number_in_queue_end:"i kÃ¶",msg_number_in_queue_start:"Du Ã¤r nummer",msg_want_to_exit:"Ã„r du sÃ¤ker pÃ¥ att du vill avsluta?",btn_enter_captcha:"OK",h_captcha:"Validering",lbl_captcha:"Ange kod:",msg_captcha_entered_is_empty:"FÃ¤ltet fÃ¥r inte vara tomt.",msg_captcha_entered_is_wrong:"TyvÃ¤rr, koden var felaktig.",REQUEST_DISCONNECTED:"har lagt pÃ¥",REQUESTER_INACTIVE:"har tappat fÃ¶rbindelsen",lbl_starter_title:"Chat","IN QUEUE":"I KÃ–",CONNECTED:"ANSLUTEN",CONFERENCE:"KONFERENS",ALONE:"FRÃ…NKOPPLAD",DISCONNECTED:"FRÃ…NKOPPLAD",msg_chatting_with:"Du chattar med",msg_chat_has_ended:"Chatten Ã¤r avslutad",placeholder_message:"Skriv din text hÃ¤r",placeholder_captcha:"Kod",placeholder_yourName:"Ditt namn",placeholder_yourEmail:"Din e-post",btn_start_chat:"Starta chatt",lbl_enterName:"Ditt namn",lbl_enterEmail:"Din e-post",msg_browserNotSupported:"Din webblÃ¤sare stÃ¶djer inte denna chatt. VÃ¤nnligen uppgradera din webblÃ¤sare.",h_closed:"StÃ¤ngd",lbl_closed:"TyvÃ¤rr, men tjÃ¤nsten Ã¤r nu stÃ¤ngd",msg_email_sent_to:"E-post Ã¤r skickat till",err_chat_no_messages_in_email_body:"TyvÃ¤rr, men det har tagit fÃ¶r lÃ¥ng tid. InnehÃ¥llet Ã¤r inte lÃ¤ngre tillgÃ¤ngligt.",lbl_survey_question:"HjÃ¤lp oss gÃ¤rna att bli bÃ¤ttre genom att bedÃ¶ma denna chatt.",h_survey_header:"En sak till ...",placeholder_survey_comment:"LÃ¤gg till en kommentar",btn_send_survey:"Skicka",err_enter_survey:"VÃ¤nligen vÃ¤rdera chatten innan du skickar",err_chat_send_survey:"Ett fel uppstod dÃ¥ vi skulle skicka din feedback.",FailedToSendSurvey:"Ett fel uppstod dÃ¥ vi skulle skicka din feedback.",SurveyDisabled:"KundundersÃ¶kningen Ã¤r inte aktiverad.",intelecom_url:"https://www.puzzel.se",h_option:"VÃ¤nligen vÃ¤lj",h_option_confirmed:"VÃ¤nligen vÃ¤lj",btn_confirm_option:"BekrÃ¤fta",lbl_confirm_option:"Tack!",lbl_cancel_option:"Avbryt",lbl_selectQueue:"VÃ¤lj kÃ¶",placeholder_selectQueue:"VÃ¤lj...",lbl_selectFormIssue:"Vad Ã¤r din frÃ¥ga om?",placeholder_selectFormIssue:"VÃ¤lj...",new_message_from_agent:"Nytt chattmeddelande",msg_email_sending:"Skickar e-post...",err_queue_needs_authentication:"Denna chat krÃ¤ver att din identitet autentiseras via en tredjepartsapplikation. DessvÃ¤rre verkar du inte ha blivit autentiserad. ",err_queue_wrong_authentication:"Denna chat krÃ¤ver att din identitet autentiseras via en tredjepartsapplikation. DessvÃ¤rre verkar du inte blivit korrekt autentiserad.",err_failed_authentication:"Denna chat krÃ¤ver att din identitet autentiseras via en tredjepartsapplikation. DessvÃ¤rre kunde vi inte autentisera dig.",lbl_deny_archiving:"Jag vill inte att den hÃ¤r chatten ska arkiveras eller skickas till mig"},lang_dk:{btn_send_email:"send",err_chat_create_email_body:"Der opstod fejl i f.m. oprettelse af e-mail",err_chat_send_email:"Der opstod fejl i f.m. afsendelse af e-mail",err_chat_send_msg:"Der opstod fejl i f.m. afsendelse af meddelelse.",err_chat_service_not_available:"DesvÃ¦rre, tjenesten er ikke tilgÃ¦ngelig",err_enter_email_address:"Skriv din e-mail adresse",err_not_valid_email_address:"e-mail adressen er ugyldig",h_after_exit:"Chatten er afsluttet",h_send_email:"Har du brug for en kopi?",lbl_after_exit:"Tak for din henvendelse og velkommen tilbage en anden gang.",lbl_send_email:"Vi sender gerne chatten pÃ¥ e-mail til dig.",lbl_send_email_adr:"Din e-mail",msg_chat_reject:"Vi er optaget i Ã¸jeblikket. PrÃ¸v venligst igen lidt senere",USER_CONNECTED:"er forbundet",USER_DISCONNECTED:"har afsluttet",USER_INVITED:"er inviteret",REQUEST_PUTINQUEUE:"Henvendelsen venter i kÃ¸",msg_is_typing:"skriver meddelelse",msg_number_in_queue_end:"i kÃ¸en",msg_number_in_queue_start:"Du venter som nummer",msg_want_to_exit:"Er du sikker pÃ¥, du vil afslutte?",btn_enter_captcha:"OK",h_captcha:"Validering",lbl_captcha:"Skriv venligst kode: ",msg_captcha_entered_is_empty:"Feltet kan ikke vÃ¦re tomt.",msg_captcha_entered_is_wrong:"Beklager, koden var ikke korrekt.",REQUEST_DISCONNECTED:"har afsluttet",REQUESTER_INACTIVE:"har mistet forbindelsen",lbl_starter_title:"Chat","IN QUEUE":"I KÃ˜",CONNECTED:"FORBUNDET",CONFERENCE:"KONFERENCE",ALONE:"AFSLUTTET",DISCONNECTED:"AFSLUTTET",msg_chatting_with:"Du chatter med",msg_chat_has_ended:"Chatten er afsluttet",placeholder_message:"Skriv din meddelelse her",placeholder_captcha:"Kode",placeholder_yourName:"Dit navn",placeholder_yourEmail:"Din e-mail",btn_start_chat:"Chat",lbl_enterName:"Dit navn",lbl_enterEmail:"Din e-mail",msg_browserNotSupported:"Din browser understÃ¸tter ikke denne chat. Opgrader venligst din browser.",h_closed:"Lukket",lbl_closed:"Vi beklager, men tjenesten er nu lukket",msg_email_sent_to:"E-mailen blev sendt til",err_chat_no_messages_in_email_body:"Beklager, men det tog for lang tid. Indholdet er ikke lÃ¦ngere tilgÃ¦ngeligt.",lbl_survey_question:"HjÃ¦lp os gerne med at blive bedre ved at bedÃ¸mme denne chat.",h_survey_header:"Lige Ã©n ting til ...",placeholder_survey_comment:"TilfÃ¸j en kommentar",btn_send_survey:"send",err_enter_survey:"Udfyld venligst bedÃ¸mmelsen, inden du sender",err_chat_send_survey:"En fejl opstod ved afsendelse af din bedÃ¸mmelse.",FailedToSendSurvey:"En fejl opstod ved afsendelse af din bedÃ¸mmelse.",SurveyDisabled:"TilfredshedsmÃ¥lingen er ikke aktiv.",intelecom_url:"https://www.puzzel.dk",h_option:"VÃ¦lg venligst en",h_option_confirmed:"VÃ¦lg venligst en",btn_confirm_option:"BekrÃ¦ft",lbl_confirm_option:"Tak!",lbl_cancel_option:"Annuller",lbl_selectQueue:"VÃ¦lg kÃ¸",placeholder_selectQueue:"VÃ¦lg...",lbl_selectFormIssue:"Hvad drejer din henvendelse sig om?",placeholder_selectFormIssue:"VÃ¦lg...",new_message_from_agent:"Ny chathenvendelse",msg_email_sending:"Sender E-mail...",err_queue_needs_authentication:"Denne chat krÃ¦ver, at din identitet er autenticeret via tredjepartsapplikation. Det ser desvÃ¦re ud til, at du ikke er autenticeret.",err_queue_wrong_authentication:"Denne chat krÃ¦ver, at din identitet er autenticeret via tredjepartsapplikation. Det ser desvÃ¦re ud til, at du ikke er korrekt autenticeret.",err_failed_authentication:"Denne chat krÃ¦ver, at din identitet er autenticeret via tredjepartsapplikation. Vi kunne desvÃ¦rre ikke autenticere dig.",lbl_deny_archiving:"Jeg Ã¸nsker ikke, at denne chat skal arkiveres eller sendes til mig"},lang_hu:{btn_send_email:"kÃ¼ldÃ©s",err_chat_create_email_body:"Az email lÃ©trehozÃ¡sa kÃ¶zben hiba tÃ¶rtÃ©nt",err_chat_send_email:"az email elÃ¼ldÃ©se kÃ¶zben hiba tÃ¶rtÃ©nt: ",err_chat_send_msg:"Az Ã¼zenet elkÃ¼ldÃ©se kÃ¶zben hiba tÃ¶rtÃ©nt. SajnÃ¡lom az Ã¼zenet elveszett.",err_chat_service_not_available:"SajnÃ¡lom, a szolgÃ¡ltatÃ¡s nem elÃ©rhetÅ‘",err_enter_email_address:"KÃ©rlek Ã­rd be az email cÃ­med",err_not_valid_email_address:"Az email cÃ­m nem Ã©rvÃ©nyes",h_after_exit:"A chat beszÃ©lgetÃ©sed vÃ©get Ã©rt",h_send_email:"KÃ©rsz mÃ¡solatot?",lbl_after_exit:"KÃ¶szÃ¶njÃ¼k, hogy megkerestÃ©l minket, vÃ¡runk mÃ¡skor is.",lbl_send_email:"Chat beszÃ©lgetÃ©s elkÃ¼ldÃ©se az emailedre",lbl_send_email_adr:"A te emailed",msg_chat_reject:"SajnÃ¡lom mindenki foglalt. PrÃ³bÃ¡lkozz kÃ©sÅ‘bb.",USER_CONNECTED:"kapcsolatban",USER_DISCONNECTED:"szÃ©tkapcsolt",USER_INVITED:"meghÃ­vva",REQUEST_PUTINQUEUE:"A megkeresÃ©s sorba lett Ã¡llÃ­tva",msg_is_typing:"gÃ©pel egy Ã¼zenetet",msg_number_in_queue_end:"a sorban",msg_number_in_queue_start:"A te pozÃ­ciÃ³d a",msg_want_to_exit:"Biztos, hogy be akarod fejezni ezt a Chat-et?",btn_enter_captcha:"OK",h_captcha:"Ã‰rvÃ©nyesÃ­tÃ©s",lbl_captcha:"KÃ©rlek add meg ezt a kÃ³dot: ",msg_captcha_entered_is_empty:"A mezÅ‘ nem lehet Ã¼res.",msg_captcha_entered_is_wrong:"SajnÃ¡lom a megadott kÃ³d nem jÃ³.",REQUEST_DISCONNECTED:"szÃ©tkapcsolt",REQUESTER_INACTIVE:"elvesztette a kapcsolatot",lbl_starter_title:"Chat","IN QUEUE":"SORBAN",CONNECTED:"KAPCSOLT",CONFERENCE:"KONFERENCIA",ALONE:"SZÃ‰TKAPCSOLT",DISCONNECTED:"SZÃ‰TKAPCSOLT",msg_chatting_with:"Chatpartnered",msg_chat_has_ended:"A chat vÃ©get Ã©rt",placeholder_message:"Ide Ã­rd az Ã¼zeneted",placeholder_captcha:"Ide Ã­rd a kÃ³dot",placeholder_yourName:"A Neved",placeholder_yourEmail:"Email cÃ­med",btn_start_chat:"Chat kezdÃ©se",lbl_enterName:"Add meg a neved",lbl_enterEmail:"Add meg az email cÃ­med",msg_browserNotSupported:"A keresÅ‘d nem tÃ¡mogatja ezt a chat-et. KÃ©rlek upgradelj.",h_closed:"A Chat zÃ¡rva",lbl_closed:"sajnÃ¡ljuk, de szolgÃ¡ltatÃ¡sunk jelenleg zÃ¡rva van",msg_email_sent_to:"Az email sikeresen elkÃ¼ldÃ©sre kerÃ¼lt",err_chat_no_messages_in_email_body:"SajnÃ¡ljuk de ez tÃºl sokÃ¡ig tartott. A tartalom mÃ¡r nem elÃ©rhetÅ‘.",lbl_survey_question:"KÃ©rlÃ¼k segÃ­tse a szolgÃ¡ltatÃ¡s fejlesztÃ©st azzal, hogy Ã©rtÃ©keli ezt a chat-et.",h_survey_header:"MÃ©g egy dolog ...",placeholder_survey_comment:"MegjegyzÃ©s beÃ­rÃ¡sa",btn_send_survey:"kÃ¼ldÃ©s",err_chat_send_survey:"A visszacsatolÃ¡s kÃ¼ldÃ©se sorÃ¡n hiba tÃ¶rtÃ©nt.",err_enter_survey:"KÃ¼ldÃ©s elÅ‘tt kÃ©rlek Ã©rtÃ©ked a Chat-et",FailedToSendSurvey:"A visszacsatolÃ¡s kÃ¼ldÃ©se sorÃ¡n hiba tÃ¶rtÃ©nt.",SurveyDisabled:"A felmÃ©rÃ©s nem engedÃ©lyezett.",intelecom_url:"https://www.puzzel.com",h_option:"KÃ©rlek vÃ¡lassz egyet",h_option_confirmed:"KÃ©rlek vÃ¡lassz egyet",btn_confirm_option:"MegerÅ‘sÃ­tÃ©s",lbl_confirm_option:"KÃ¶szÃ¶nÃ¶m!",lbl_cancel_option:"TÃ¶rlÃ©s",lbl_selectQueue:"VÃ¡lassz Sort",placeholder_selectQueue:"VÃ¡lassz...",lbl_selectFormIssue:"Mi a keresett szÃ³?",placeholder_selectFormIssue:"VÃ¡lassz...",new_message_from_agent:"Ãšj Chat Ã¼zenet",msg_email_sending:"Email kÃ¼ldÃ©se...",err_queue_needs_authentication:"Ez a tÃ¡blÃ¡zat megkÃ¶veteli, hogy be legyÃ©l jelentkezve egy harmadik fÃ©l Ã¡ltali applikÃ¡ciÃ³n keresztÃ¼l. Sajnos Ãºgy tÅ±nik, hogy nem vagy bejelentkezve.",err_queue_wrong_authentication:"Ez a tÃ¡blÃ¡zat megkÃ¶veteli, hogy be legyÃ©l jelentkezve egy harmadik fÃ©l Ã¡ltali applikÃ¡ciÃ³n keresztÃ¼l. Sajnos Ãºgy tÅ±nik, hogy nem megfelelÅ‘en vagy bejelentkezve.",err_failed_authentication:"Ez a tÃ¡blÃ¡zat megkÃ¶veteli, hogy be legyÃ©l jelentkezve egy harmadik fÃ©l Ã¡ltali applikÃ¡ciÃ³n keresztÃ¼l. Sajnos nem tudtunk azonosÃ­tani tÃ©ged.",lbl_deny_archiving:"I do not want this chat to be archived or sent to me"},lang_bg:{btn_send_email:"Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ",err_chat_create_email_body:"Ð’ÑŠÐ·Ð½Ð¸ÐºÐ½Ð° Ð³Ñ€ÐµÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð¿Ð¸Ñ‚ Ð·Ð° ÑÑŠÐ·Ð´Ð°Ð²Ð°Ð½Ðµ Ð½Ð° Ð’Ð°ÑˆÐ¸Ñ Ð¸Ð¼ÐµÐ¹Ð»",err_chat_send_email:"Ð’ÑŠÐ·Ð½Ð¸ÐºÐ½Ð° Ð³Ñ€ÐµÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð¿Ð¸Ñ‚ Ð·Ð° Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ð¸Ð¼ÐµÐ¹Ð»: ",err_chat_send_msg:"Ð’ÑŠÐ·Ð½Ð¸ÐºÐ½Ð° Ð³Ñ€ÐµÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¾Ð¿Ð¸Ñ‚ Ð·Ð° Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° ÑÑŠÐ¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÑ‚Ð¾ Ð’Ð¸. Ð¡ÑŠÐ¶Ð°Ð»ÑÐ²Ð°Ð¼Ðµ, Ð½Ð¾ ÑÑŠÐ¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÑ‚Ð¾ Ðµ Ð·Ð°Ð³ÑƒÐ±ÐµÐ½Ð¾.",err_chat_service_not_available:"Ð¡ÑŠÐ¶Ð°Ð»ÑÐ²Ð°Ð¼Ðµ, Ð½Ð¾ ÑƒÑÐ»ÑƒÐ³Ð°Ñ‚Ð° Ð½Ðµ Ðµ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ð°",err_enter_email_address:"ÐœÐ¾Ð»Ñ, Ð²ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð¸Ð¼ÐµÐ¹Ð» Ð°Ð´Ñ€ÐµÑÐ° ÑÐ¸",err_not_valid_email_address:"Ð˜Ð¼ÐµÐ¹Ð» Ð°Ð´Ñ€ÐµÑÑŠÑ‚ Ð½Ðµ Ðµ Ð²Ð°Ð»Ð¸Ð´ÐµÐ½",h_after_exit:"Ð’Ð°ÑˆÐ°Ñ‚Ð° Ñ‡Ð°Ñ‚ ÑÐµÑÐ¸Ñ Ð·Ð°Ð²ÑŠÑ€ÑˆÐ¸",h_send_email:"Ð¢Ñ€ÑÐ±Ð²Ð° Ð»Ð¸ Ð’Ð¸ ÐºÐ¾Ð¿Ð¸Ðµ?",lbl_after_exit:"Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ð¼ Ð’Ð¸, Ñ‡Ðµ ÑÐµ ÑÐ²ÑŠÑ€Ð·Ð°Ñ…Ñ‚Ðµ Ñ Ð½Ð°Ñ Ð¸ Ð’Ð¸ Ð¾Ñ‡Ð°ÐºÐ²Ð°Ð¼Ðµ Ð¾Ñ‚Ð½Ð¾Ð²Ð¾.",lbl_send_email:"Ð˜Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ñ€Ð°Ð·Ð³Ð¾Ð²Ð¾Ñ€Ð° Ð² Ñ‡Ð°Ñ‚Ð° Ð½Ð° Ð¸Ð¼ÐµÐ¹Ð» Ð°Ð´Ñ€ÐµÑÐ° Ð’Ð¸",lbl_send_email_adr:"Ð’Ð°ÑˆÐ¸ÑÑ‚ Ð¸Ð¼ÐµÐ¹Ð»",msg_chat_reject:"Ð—Ð° ÑÑŠÐ¶Ð°Ð»ÐµÐ½Ð¸Ðµ ÑÐ¼Ðµ Ð¼Ð½Ð¾Ð³Ð¾ Ð·Ð°ÐµÑ‚Ð¸. ÐœÐ¾Ð»Ñ, Ð¾Ð¿Ð¸Ñ‚Ð°Ð¹Ñ‚Ðµ Ð¾Ñ‚Ð½Ð¾Ð²Ð¾ Ð¿Ð¾-ÐºÑŠÑÐ½Ð¾.",USER_CONNECTED:"Ðµ ÑÐ²ÑŠÑ€Ð·Ð°Ð½/Ð°",USER_DISCONNECTED:"Ð½Ðµ Ðµ ÑÐ²ÑŠÑ€Ð·Ð°Ð½/Ð°",USER_INVITED:"Ðµ Ð¿Ð¾ÐºÐ°Ð½ÐµÐ½",REQUEST_PUTINQUEUE:"Ð—Ð°ÑÐ²ÐºÐ°Ñ‚Ð° Ðµ Ð¿Ð¾ÑÑ‚Ð°Ð²ÐµÐ½Ð° Ð² Ð¾Ð¿Ð°ÑˆÐºÐ°Ñ‚Ð°",msg_is_typing:"Ð²ÑŠÐ²ÐµÐ¶Ð´Ð° ÑÑŠÐ¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",msg_number_in_queue_end:"Ð² Ð¾Ð¿Ð°ÑˆÐºÐ°",msg_number_in_queue_start:"Ð’Ð¸Ðµ ÑÑ‚Ðµ Ð½Ð¾Ð¼ÐµÑ€",msg_want_to_exit:"ÐÐ°Ð¸ÑÑ‚Ð¸Ð½Ð° Ð»Ð¸ Ð¸ÑÐºÐ°Ñ‚Ðµ Ð´Ð° Ð¿Ñ€Ð¸ÐºÐ»ÑŽÑ‡Ð¸Ñ‚Ðµ Ñ‚Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚?",btn_enter_captcha:"OK",h_captcha:"Ð’Ð°Ð»Ð¸Ð´Ð¸Ñ€Ð°Ð½Ðµ",lbl_captcha:"ÐœÐ¾Ð»Ñ, Ð²ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ñ‚Ð¾Ð·Ð¸ ÐºÐ¾Ð´: ",msg_captcha_entered_is_empty:"ÐŸÐ¾Ð»ÐµÑ‚Ð¾ Ð½Ðµ Ð¼Ð¾Ð¶Ðµ Ð´Ð° Ð±ÑŠÐ´Ðµ Ð¿Ñ€Ð°Ð·Ð½Ð¾.",msg_captcha_entered_is_wrong:"Ð¡ÑŠÐ¶Ð°Ð»ÑÐ²Ð°Ð¼Ðµ, Ð½Ð¾ Ð²ÑŠÐ²ÐµÐ´ÐµÐ½Ð¸ÑÑ‚ ÐºÐ¾Ð´ Ðµ Ð³Ñ€ÐµÑˆÐµÐ½.",REQUEST_DISCONNECTED:"Ð½Ðµ Ðµ ÑÐ²ÑŠÑ€Ð·Ð°Ð½/Ð°",REQUESTER_INACTIVE:"Ð·Ð°Ð³ÑƒÐ±Ð¸ Ð²Ñ€ÑŠÐ·ÐºÐ°",lbl_starter_title:"Ð§Ð°Ñ‚","IN QUEUE":"Ð’ ÐžÐŸÐÐ¨ÐšÐ",CONNECTED:"Ð¡Ð’ÐªÐ Ð—ÐÐ",CONFERENCE:"Ð’ ÐšÐžÐÐ¤Ð•Ð Ð•ÐÐ¢ÐÐ Ð’Ð ÐªÐ—ÐšÐ",ALONE:"ÐÐ• Ð• Ð¡Ð’ÐªÐ Ð—ÐÐ",DISCONNECTED:"ÐÐ• Ð• Ð¡Ð’ÐªÐ Ð—ÐÐ",msg_chatting_with:"Ð˜Ð·Ð²ÑŠÑ€ÑˆÐ²Ð° Ñ‡Ð°Ñ‚ Ñ",msg_chat_has_ended:"Ð§Ð°Ñ‚ÑŠÑ‚ Ð¿Ñ€Ð¸ÐºÐ»ÑŽÑ‡Ð¸",placeholder_message:"Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÑÑŠÐ¾Ð±Ñ‰ÐµÐ½Ð¸ÐµÑ‚Ð¾ ÑÐ¸ Ñ‚ÑƒÐº",placeholder_captcha:"Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÐºÐ¾Ð´Ð° Ñ‚ÑƒÐº",placeholder_yourName:"Ð’Ð°ÑˆÐµÑ‚Ð¾ Ð¸Ð¼Ðµ",placeholder_yourEmail:"Ð’Ð°ÑˆÐ¸ÑÑ‚ Ð¸Ð¼ÐµÐ¹Ð»",btn_start_chat:"Ð—Ð°Ð¿Ð¾Ñ‡Ð²Ð°Ð½Ðµ Ð½Ð° Ñ‡Ð°Ñ‚Ð°",lbl_enterName:"Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð¸Ð¼ÐµÑ‚Ð¾ ÑÐ¸",lbl_enterEmail:"Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ Ð¸Ð¼ÐµÐ¹Ð»Ð° ÑÐ¸",msg_browserNotSupported:"Ð‘Ñ€Ð°ÑƒÐ·ÑŠÑ€ÑŠÑ‚ Ð’Ð¸ Ð½Ðµ Ð¿Ð¾Ð´Ð´ÑŠÑ€Ð¶Ð° Ñ‚Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚. ÐœÐ¾Ð»Ñ, Ð½Ð°Ð´Ð³Ñ€Ð°Ð´ÐµÑ‚Ðµ Ð±Ñ€Ð°ÑƒÐ·ÑŠÑ€Ð° ÑÐ¸.",h_closed:"Ð§Ð°Ñ‚ÑŠÑ‚ Ðµ Ð·Ð°Ñ‚Ð²Ð¾Ñ€ÐµÐ½",lbl_closed:"Ð˜Ð·Ð²Ð¸Ð½ÑÐ²Ð°Ð¼Ðµ ÑÐµ, Ð½Ð¾ Ð¾Ñ‚Ð´ÐµÐ»ÑŠÑ‚ Ð·Ð° Ñ‡Ð°Ñ‚ Ð² Ð¼Ð¾Ð¼ÐµÐ½Ñ‚Ð° Ðµ Ð·Ð°Ñ‚Ð²Ð¾Ñ€ÐµÐ½",msg_email_sent_to:"Ð˜Ð¼ÐµÐ¹Ð»ÑŠÑ‚ Ð±ÐµÑˆÐµ Ð¸Ð·Ð¿Ñ€Ð°Ñ‚ÐµÐ½ ÑƒÑÐ¿ÐµÑˆÐ½Ð¾ Ð½Ð°",err_chat_no_messages_in_email_body:"Ð˜Ð·Ð²Ð¸Ð½ÑÐ²Ð°Ð¼Ðµ ÑÐµ, Ð½Ð¾ Ñ‚Ð¾Ð²Ð° Ð¾Ñ‚Ð½Ðµ Ñ‚Ð²ÑŠÑ€Ð´Ðµ Ð¼Ð½Ð¾Ð³Ð¾ Ð²Ñ€ÐµÐ¼Ðµ. Ð¡ÑŠÐ´ÑŠÑ€Ð¶Ð°Ð½Ð¸ÐµÑ‚Ð¾ Ð²ÐµÑ‡Ðµ Ð½Ðµ Ðµ Ð½Ð°Ð»Ð¸Ñ‡Ð½Ð¾.",lbl_survey_question:"ÐœÐ¾Ð»Ñ, Ð¿Ð¾Ð¼Ð¾Ð³Ð½ÐµÑ‚Ðµ Ð½Ð¸ Ð´Ð° Ð¿Ð¾Ð´Ð¾Ð±Ñ€Ð¸Ð¼ Ð¾Ð±ÑÐ»ÑƒÐ¶Ð²Ð°Ð½ÐµÑ‚Ð¾, ÐºÐ°Ñ‚Ð¾ Ð´Ð°Ð´ÐµÑ‚Ðµ Ð¾Ñ†ÐµÐ½ÐºÐ° Ð½Ð° Ñ‚Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚.",h_survey_header:"ÐžÑ‰Ðµ Ð½ÐµÑ‰Ð¾, ...",placeholder_survey_comment:"Ð’ÑŠÐ²ÐµÐ´ÐµÑ‚Ðµ ÐºÐ¾Ð¼ÐµÐ½Ñ‚Ð°Ñ€",btn_send_survey:"Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ",err_chat_send_survey:"Ð’ÑŠÐ·Ð½Ð¸ÐºÐ½Ð° Ð³Ñ€ÐµÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð°Ñ‚Ð° Ð²Ñ€ÑŠÐ·ÐºÐ° Ð¾Ñ‚ Ð’Ð°Ñ.",err_enter_survey:"ÐœÐ¾Ð»Ñ, Ð´Ð°Ð¹Ñ‚Ðµ Ð¾Ñ†ÐµÐ½ÐºÐ° Ð½Ð° Ñ‡Ð°Ñ‚Ð° Ð¿Ñ€ÐµÐ´Ð¸ Ð´Ð° Ð³Ð¾ Ð¸Ð·Ð¿Ñ€Ð°Ñ‚Ð¸Ñ‚Ðµ",FailedToSendSurvey:"Ð’ÑŠÐ·Ð½Ð¸ÐºÐ½Ð° Ð³Ñ€ÐµÑˆÐºÐ° Ð¿Ñ€Ð¸ Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ð¾Ð±Ñ€Ð°Ñ‚Ð½Ð°Ñ‚Ð° Ð²Ñ€ÑŠÐ·ÐºÐ° Ð¾Ñ‚ Ð’Ð°Ñ.",SurveyDisabled:"ÐŸÑ€Ð¾ÑƒÑ‡Ð²Ð°Ð½ÐµÑ‚Ð¾ Ðµ Ð´ÐµÐ°ÐºÑ‚Ð¸Ð²Ð¸Ñ€Ð°Ð½Ð¾.",intelecom_url:"https://www.puzzel.com",h_option:"ÐœÐ¾Ð»Ñ, Ð¸Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ ÐµÐ´Ð½Ð°",h_option_confirmed:"ÐœÐ¾Ð»Ñ, Ð¸Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ ÐµÐ´Ð½Ð°",btn_confirm_option:"ÐŸÐ¾Ñ‚Ð²ÑŠÑ€Ð¶Ð´Ð°Ð²Ð°Ð½Ðµ",lbl_confirm_option:"Ð‘Ð»Ð°Ð³Ð¾Ð´Ð°Ñ€Ð¸Ð¼ Ð²Ð¸!",lbl_cancel_option:"ÐžÑ‚ÐºÐ°Ð·",lbl_selectQueue:"Ð˜Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ Ð¾Ð¿Ð°ÑˆÐºÐ°Ñ‚Ð°",placeholder_selectQueue:"Ð˜Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ...",lbl_selectFormIssue:"ÐžÑ‚ ÐºÐ°ÐºÐ²Ð¾ ÐµÑÑ‚ÐµÑÑ‚Ð²Ð¾ Ðµ Ð’Ð°ÑˆÐ°Ñ‚Ð° Ð·Ð°ÑÐ²ÐºÐ°?",placeholder_selectFormIssue:"Ð˜Ð·Ð±ÐµÑ€ÐµÑ‚Ðµ...",new_message_from_agent:"ÐÐ¾Ð²Ð¾ Ñ‡Ð°Ñ‚ ÑÑŠÐ¾Ð±Ñ‰ÐµÐ½Ð¸Ðµ",msg_email_sending:"Ð˜Ð·Ð¿Ñ€Ð°Ñ‰Ð°Ð½Ðµ Ð½Ð° Ð¸Ð¼ÐµÐ¹Ð»...",err_queue_needs_authentication:"Ð¢Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚ Ð¸Ð·Ð¸ÑÐºÐ²Ð° Ð’Ð°ÑˆÐ°Ñ‚Ð° ÑÐ°Ð¼Ð¾Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ Ð´Ð° Ð±ÑŠÐ´Ðµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÐµÐ½Ð° Ð¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ñ‚Ñ€ÐµÑ‚Ð° ÑÑ‚Ñ€Ð°Ð½Ð°. Ð—Ð° ÑÑŠÐ¶Ð°Ð»ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð¸Ð·Ð³Ð»ÐµÐ¶Ð´Ð° Ð´Ð° ÑÑ‚Ðµ ÑÐµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð¸Ð»Ð¸.",err_queue_wrong_authentication:"Ð¢Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚ Ð¸Ð·Ð¸ÑÐºÐ²Ð° Ð’Ð°ÑˆÐ°Ñ‚Ð° ÑÐ°Ð¼Ð¾Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ Ð´Ð° Ð±ÑŠÐ´Ðµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÐµÐ½Ð° Ð¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ñ‚Ñ€ÐµÑ‚Ð° ÑÑ‚Ñ€Ð°Ð½Ð°. Ð—Ð° ÑÑŠÐ¶Ð°Ð»ÐµÐ½Ð¸Ðµ Ð½Ðµ Ð¸Ð·Ð³Ð»ÐµÐ¶Ð´Ð° Ð´Ð° ÑÑ‚Ðµ ÑÐµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð¸Ð»Ð¸ Ð¿Ñ€Ð°Ð²Ð¸Ð»Ð½Ð¾.",err_failed_authentication:"Ð¢Ð¾Ð·Ð¸ Ñ‡Ð°Ñ‚ Ð¸Ð·Ð¸ÑÐºÐ²Ð° Ð’Ð°ÑˆÐ°Ñ‚Ð° ÑÐ°Ð¼Ð¾Ð»Ð¸Ñ‡Ð½Ð¾ÑÑ‚ Ð´Ð° Ð±ÑŠÐ´Ðµ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€ÐµÐ½Ð° Ð¿Ð¾ÑÑ€ÐµÐ´ÑÑ‚Ð²Ð¾Ð¼ Ð¿Ñ€Ð¸Ð»Ð¾Ð¶ÐµÐ½Ð¸Ðµ Ð¾Ñ‚ Ñ‚Ñ€ÐµÑ‚Ð° ÑÑ‚Ñ€Ð°Ð½Ð°. Ð—Ð° ÑÑŠÐ¶Ð°Ð»ÐµÐ½Ð¸Ðµ Ð½ÑÐ¼Ð°Ñ…Ð¼Ðµ Ð²ÑŠÐ·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚Ñ‚Ð° Ð´Ð° Ð’Ð¸ ÑƒÐ´Ð¾ÑÑ‚Ð¾Ð²ÐµÑ€Ð¸Ð¼.",lbl_deny_archiving:"ÐÐµ Ð¸ÑÐºÐ°Ð¼ Ñ‡Ð°Ñ‚ÑŠÑ‚ Ð´Ð° ÑÐµ Ð°Ñ€Ñ…Ð¸Ð²Ð¸Ñ€Ð° Ð¸Ð»Ð¸ Ð¸Ð·Ð¿Ñ€Ð°Ñ‰Ð° Ð´Ð¾ Ð¼ÐµÐ½"},lang_fi:{btn_send_email:"LÃ¤hetÃ¤",err_chat_create_email_body:"Virhe sÃ¤hkÃ¶postin luomisen yhteydessÃ¤",err_chat_send_email:"Virhe sÃ¤hkÃ¶postin lÃ¤hetyksen yhteydessÃ¤.",err_chat_send_msg:"Tapahtui virhe, kun yritimme lÃ¤hettÃ¤Ã¤ viestin. Se ei valitettavasti mennyt perille.",err_chat_service_not_available:"Valitettavasti palvelu ei ole kÃ¤ytettÃ¤vissÃ¤",err_enter_email_address:"Kirjoita sÃ¤hkÃ¶postiosoitteesi",err_not_valid_email_address:"SÃ¤hkÃ¶postiosoiteessa on virhe",h_after_exit:"Chat on pÃ¤Ã¤ttynyt",h_send_email:"Tarvitsetko kopion?",lbl_after_exit:"Kiitos yhteydenotosta ja tervetuloa takaisin.",lbl_send_email:"Voimme lÃ¤hettÃ¤Ã¤ chat-keskustelun sinulle sÃ¤hkÃ¶postitse",lbl_send_email_adr:"SÃ¤hkÃ¶postiosoitteesi",msg_chat_reject:"Valitettavasti meillÃ¤ on liian suuri kysyntÃ¤. Ole hyvÃ¤ ja yritÃ¤ uudelleen myÃ¶hemmin.",USER_CONNECTED:"on yhteydessÃ¤",USER_DISCONNECTED:"on lopettanut yhteyden",USER_INVITED:"on kutsuttu mukaan",REQUEST_PUTINQUEUE:"Tiedustelu on siirretty jonoon",msg_is_typing:"Kirjoittaa viestiÃ¤",msg_number_in_queue_end:"jonossa",msg_number_in_queue_start:"SinÃ¤ olet numero",msg_want_to_exit:"Oletko varma ettÃ¤ haluat lopettaa chat-keskustelun?",btn_enter_captcha:"OK",h_captcha:"Vahvistaminen",lbl_captcha:"Ole hyvÃ¤ ja kirjoita tÃ¤mÃ¤ koodi: ",msg_captcha_entered_is_empty:"TÃ¤mÃ¤ kenttÃ¤ ei voi olla tyhjÃ¤.",msg_captcha_entered_is_wrong:"Valitettavasti, koodi on vÃ¤Ã¤rÃ¤.",REQUEST_DISCONNECTED:"on lopettanut yhteyden",REQUESTER_INACTIVE:"on kadottanut yhteyden",lbl_starter_title:"Chat","IN QUEUE":"JONOSSA",CONNECTED:"YHTEYDESSÃ„",CONFERENCE:"KONFERENSSI",ALONE:"LOPETTANUT YHTEYDEN",DISCONNECTED:"EI YHTEYTTÃ„",msg_chatting_with:"Sinun Chat-neuvojasi",msg_chat_has_ended:"Chat-keskustelu on loppunut",placeholder_message:"Kirjoita viestisi tÃ¤hÃ¤n",placeholder_captcha:"Kirjoita koodi tÃ¤hÃ¤n",placeholder_yourName:"Sinun nimesi",placeholder_yourEmail:"Sinun sÃ¤hkÃ¶postisi",btn_start_chat:"Aloita chat-keskustelu",lbl_enterName:"Sinun nimesi",lbl_enterEmail:"Sinun sÃ¤hkÃ¶postisi",msg_browserNotSupported:"Selaimesi ei tue tÃ¤tÃ¤ chat-ohjelmaa. Ole hyvÃ¤ ja pÃ¤ivitÃ¤ selaimesi.",h_closed:"Suljettu",lbl_closed:"Pahoittelemme, mutta palvelu on nyt suljettu",msg_email_sent_to:"SÃ¤hkÃ¶posti on lÃ¤hetetty osoitteeseen",err_chat_no_messages_in_email_body:"Pahoittelemme, mutta tÃ¤mÃ¤ kesti liian kauan. SisÃ¤ltÃ¶ ei ole enÃ¤Ã¤ kÃ¤ytettÃ¤vissÃ¤.",lbl_survey_question:"Auta meitÃ¤ parantamaan palveluamme arvioimalla tÃ¤mÃ¤ chat.",h_survey_header:"VielÃ¤ yksi asiaâ€¦",placeholder_survey_comment:"Kirjoita kommentti",btn_send_survey:"lÃ¤hetÃ¤",err_chat_send_survey:"Virhe palautteesi lÃ¤hettÃ¤misen yhteydessÃ¤.",err_enter_survey:"Ole hyvÃ¤ ja arvioi chat ennen lÃ¤hettÃ¤mistÃ¤",FailedToSendSurvey:"Virhe palautteesi lÃ¤hettÃ¤misen yhteydessÃ¤.",SurveyDisabled:"Asiakaskysely on poistettu kÃ¤ytÃ¶stÃ¤.",intelecom_url:"https://www.puzzel.com",h_option:"Ole hyvÃ¤ ja valitse yksi",h_option_confirmed:"Ole hyvÃ¤ ja valitse yksi",btn_confirm_option:"Varmista",lbl_confirm_option:"Kiitos!",lbl_cancel_option:"Peruuta",lbl_selectQueue:"Valitse jono",placeholder_selectQueue:"Valitse...",lbl_selectFormIssue:"MitÃ¤ tiedustelusi koskee?",placeholder_selectFormIssue:"Valitse...",new_message_from_agent:"Uusi viesti asiakasneuvojalta",msg_email_sending:"LÃ¤hettÃ¤Ã¤ sÃ¤hkopostia...",err_queue_needs_authentication:"TÃ¤mÃ¤ chat edellyttÃ¤Ã¤, ettÃ¤ henkilÃ¶llisyytesi on varmistettu kolmannen osapuolen sovelluksen  kautta. Valitettavasti nÃ¤yttÃ¤Ã¤ siltÃ¤, ettÃ¤ sinua ei ole varmistettu.",err_queue_wrong_authentication:"TÃ¤mÃ¤ chat edellyttÃ¤Ã¤, ettÃ¤ henkilÃ¶llisyytesi on varmistettu kolmannen osapuolen sovelluksen  kautta. Valitettavasti nÃ¤yttÃ¤Ã¤ siltÃ¤, ettÃ¤ sinua ei ole varmistettu oikein.",err_failed_authentication:"TÃ¤mÃ¤ chat edellyttÃ¤Ã¤, ettÃ¤ henkilÃ¶llisyytesi on varmistettu kolmannen osapuolen sovelluksen  kautta. Valitettavasti emme pystyneet varmistamaan henkilÃ¶llisyyttÃ¤si.",lbl_deny_archiving:"TÃ¤tÃ¤ keskustelua ei tarvitse arkistoida tai lÃ¤hettÃ¤Ã¤ minulle"},lang_default:{btn_send_email:"send",err_chat_create_email_body:"An error occured while trying to create your email",err_chat_send_email:"An error occured while trying to send an email: ",err_chat_send_msg:"An error occured while trying to send your message. Sorry, but the message was lost.",err_chat_service_not_available:"Sorry, the service is not available",err_enter_email_address:"Please enter your email address",err_not_valid_email_address:"The email address is not valid",h_after_exit:"Your chat session has ended",h_send_email:"Need a copy?",lbl_after_exit:"Thank you for contacting us and please come back soon.",lbl_send_email:"Get the chat conversation sent to you by email",lbl_send_email_adr:"Your e-mail",msg_chat_reject:"Sorry, we are too busy. Please try again later.",USER_CONNECTED:"is connected",USER_DISCONNECTED:"is disconnected",USER_INVITED:"is invited",REQUEST_PUTINQUEUE:"The request is put in the queue",msg_is_typing:"is typing a message",msg_number_in_queue_end:"in queue",msg_number_in_queue_start:"You are number",msg_want_to_exit:"Are you sure you want to end this chat?",btn_enter_captcha:"OK",h_captcha:"Validation",lbl_captcha:"Please enter this code: ",msg_captcha_entered_is_empty:"The field can not be empty.",msg_captcha_entered_is_wrong:"Sorry, the entered code is wrong.",REQUEST_DISCONNECTED:"is disconnected",REQUESTER_INACTIVE:"has lost connection",lbl_starter_title:"Chat","IN QUEUE":"IN QUEUE",CONNECTED:"CONNECTED",CONFERENCE:"CONFERENCE",ALONE:"DISCONNECTED",DISCONNECTED:"DISCONNECTED",msg_chatting_with:"Chatting with",msg_chat_has_ended:"The chat has ended",placeholder_message:"Type your message here",placeholder_captcha:"Enter code here",placeholder_yourName:"Your name",placeholder_yourEmail:"Your e-mail",btn_start_chat:"Start chat",lbl_enterName:"Enter your name",lbl_enterEmail:"Enter your e-mail",msg_browserNotSupported:"Your browser doesn't support this chat. Please upgrade your browser.",h_closed:"Chat is closed",lbl_closed:"We apologize but our chat service is currently closed",msg_email_sent_to:"The e-mail was successfully sent to",err_chat_no_messages_in_email_body:"We apologize, but this took too long. The contend is no longer available.",lbl_survey_question:"Please help us improve our service by rating this chat.",h_survey_header:"One more thing ...",placeholder_survey_comment:"Enter a comment",btn_send_survey:"send",err_chat_send_survey:"An error occured while sending your feedback.",err_enter_survey:"Please rate the chat before sending",FailedToSendSurvey:"An error occured while sending your feedback.",SurveyDisabled:"The survey is disabled.",intelecom_url:"https://www.puzzel.com",h_option:"Please select",h_option_confirmed:"You selected",btn_confirm_option:"confirm",lbl_confirm_option:"Thank you!",lbl_cancel_option:"Cancel",lbl_selectQueue:"Select queue",placeholder_selectQueue:"Select...",lbl_selectFormIssue:"What's your query about?",placeholder_selectFormIssue:"Select...",new_message_from_agent:"New chat message",msg_email_sending:"Sending e-mail...",err_queue_needs_authentication:"This chat requires that your identity is authenticated through a third party application. Unfortunately you do not seem to be authenticated.",err_queue_wrong_authentication:"This chat requires that your identity is authenticated through a third party application. Unfortunately you do not seem to be authenticated correctly.",err_failed_authentication:"This chat requires that your identity is authenticated through a third party application. Unfortunately we were not able to authenticate you.",lbl_deny_archiving:"I do not want this chat to be archived or sent to me"}})}(),function(){q.chatTemplates=q.extend({chatFrame:g.template('<div class="intelecomchatdialog" data-bind="visible: !minimized()"><div class="intelecomchatheader"><div class="intelecomchatheader__settings"><button data-bind="command: fontSizeChatCmd, css: {\'intelecomchaticon-fontsize\': !fontSizeIsMax(), \'intelecomchaticon-fontsize-m\': fontSizeIsMax()}" tabindex="0" aria-label="Fontsize"></button><button data-bind="command: muteChatCmd, css: {\'intelecomchaticon-volume-up\': !mute(), \'intelecomchaticon-volume-off\': mute()}, attr: {\'aria-label\': mute() ? \'Unmute\' : \'Mute\'}" tabindex="0"></button></div><div class="intelecomchatheader__actions"><button class="intelecomchaticon-minus" data-bind="command: minimizeChatCmd" tabindex="0" role="button" aria-label="Minimize"></button><button class="intelecomchaticon-cancel" data-bind="command: exitChatCmd" tabindex="0" role="button" aria-label="Exit"></button></div></div><div class="intelecomchatinner" ><div class="intelecomchat__info" data-bind="visible: inChatDialog()"><span class="intelecomchat__infostate" data-bind="html:infoState()"></span><span class="intelecomchat__infomessage" role="alert" data-bind="html:infoMessage()"></span></div><div class="intelecomchatoverlay" data-bind="visible: captcha() || showForm() || afterExit() || showError() || showLoading()" ><div class="intelecomcaptcha" data-bind="visible: !showError()"><%= tmplCapthca %><%= tmplEnter %><%= tmplLeave %><%= tmplSurvey %></div><div class="intelecomcaptcha" data-bind="visible: showError()"><%= tmplError %></div><div class="intelecomcaptcha" data-bind="visible: showLoading() && !showForm() && !showError()"><%= tmplLoading %></div><div class="intelecomchatoverlay__footer"><span class="intelecomchatoverlay__footer_logo" aria-label="Powered by Deloitte">Powered by </span></div></div><%= tmplDialog %><%= tmplFooter %></div></div>'),error:g.template('<div class="intelecomcaptchaform"><form class="intelecomcaptcha__form" ><div class="intelecomcaptcha__title" data-bind="text:errorMessageHeader"></div><label class="intelecomcaptcha__label" data-bind="html: errorMessage"></label></form></div>'),loading:g.template('<div class="intelecomcaptchaform"><form class="intelecomcaptcha__form" ><div class="intelecomprogress" ></div></form></div>'),captcha:g.template('<div class="intelecomcaptchaform" data-bind="visible: captcha() && !showForm()"><div class="intelecomcaptcha__title"><%= chatCaptchaHeader %></div><form class="intelecomcaptcha__form" action="" data-bind="submit: enterCaptchaCmd" ><label id="intelecomcaptcha__label" class="intelecomcaptcha__label"><%= chatCaptchaLabel %> <span data-bind="text: captchaResult"></span></label><input class="intelecomchat__input  intelecomchat__input_margin_b" aria-labelledby="intelecomcaptcha__label" name="CaptchaResult" data-bind="value: enteredCaptchaResult, valueUpdate: \'afterkeydown\', hasFocus: captcha() && !showForm(), placeholder: captchaPlaceholder" type="number" ></input><button  type="submit" class="intelecomchat__button"><%= btnEnterCaptcha %></button></form></div>'),enter:g.template('<div class="intelecomenterform" data-bind="visible: showForm()"><div class="intelecomcaptcha__title" data-bind="html:msgFormHeader()"></div>    <div class="intelecomcaptcha__label intelecom_ingress" data-bind="html:msgFormIngress()"></div>    <form class="intelecomenterform__form" action="" data-bind="submit: enterFormCmd" >       \x3c!-- ko foreach: inputFields  --\x3e       <label data-bind="text: inputLabel"></label>          \x3c!-- ko if: inputType() === "select" --\x3e             <select class="intelecomchat__input intelecomchat__input_margin_b" data-bind="options:inputItems, optionsValue: \'value\', optionsText: \'text\', value: inputValue, optionsCaption: inputPlaceholder,attr: { name: inputVariableName, \'aria-label\': inputLabel}"></select>          \x3c!--/ko--\x3e          \x3c!-- ko if: inputType() !== "select" --\x3e             <input class="intelecomchat__input intelecomchat__input_margin_b" data-bind="value: inputValue, attr: { name: inputVariableName, placeholder: inputPlaceholder, type: inputType, maxlength: inputMaxlength, \'aria-label\': inputLabel }, valueUpdate: \'afterkeydown\'" ></input>          \x3c!--/ko--\x3e       \x3c!-- /ko --\x3e       <div data-bind="visible: showDenyArchiving()">         <input id="denyArchiving__checkbox" class="intelecom_checkbox" name="DenyArchiving" type="checkbox" data-bind="checked: denyArchiving" aria-labelledby="denyArchiving__label" ></input>        <label id="denyArchiving__label"><%= denyArchivingLabel %></label>      </div>       <button  type="submit" class="intelecomchat__button start_chat"><%= startChat %></button>   </form></div>'),
dialog:g.template('<div class="intelecomdialog"><div class="intelecomMsgPnlTable"><div class="intelecomMsgPnlRow"><div class="intelecomMsgPnlCell" role="application"><div class="intelecomMsgPnl" role="log" aria-atomic="false" data-bind="visible: inChatDialog(), changechatsize: {}, scrollBarDown: { data: chatMessages() }">   \x3c!-- Loop through all the messages --\x3e   \x3c!-- ko foreach: { data: chatMessages, afterAdd: animateMessage  } --\x3e   \x3c!-- Normal messages from user and request --\x3e   \x3c!-- ko if: Type() == 0 && Role() == 0 --\x3e\t<div class="intelecomdialog__question" ><div class="intelecomdialog__question-time" data-bind="html: sentTimeFormatted()" aria-hidden="true"></div><div class="intelecomdialog__question-text" tabindex="0" ><div class="sr-only" data-bind="html: sentTimeFormatted()" ></div><span data-bind="html: Message" ></span><div class="intelecomdialog__question-arrow-shadow" ></div><div class="intelecomdialog__question-arrow" ></div></div></div>  \x3c!--/ko--\x3e   \x3c!-- ko if: Type() == 0 && Role() == 1--\x3e   <div class="intelecomdialog__answer"><div class="intelecomdialog__answer-text" data-bind="css: {\'intelecomthumbs-parent\' : thumbs()}" tabindex="0"><div class="sr-only" data-bind="html: sentTimeFormatted()" ></div><div class="intelecomdialog__answer-info" data-bind="visible: $parent.beenInConference()"> <small data-bind="html: NickName() "></small></div><span data-bind="html: Message" ></span><div class="intelecomdialog__answer-arrow-shadow" ></div><div class="intelecomdialog__answer-arrow" ></div>       <div class="intelecomthumbs">           <button class="thumbs_up" data-bind="visible: thumbs, click: $root.sendThumbsUpCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-up\': !thumbsUp(), \'intelecomchaticon-thumbs-up-solid\': thumbsUp()}" aria-label="thumbs up" ></button>            <button class="thumbs_down" data-bind="visible: thumbs, click: $root.sendThumbsDownCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-down\': !thumbsDown(), \'intelecomchaticon-thumbs-down-solid\': thumbsDown()}" aria-label="thumbs down" ></button>        </div>       </div>       <div class="intelecomdialog__answer-time" data-bind="html:sentTimeFormatted()" aria-hidden="true"></div>    </div>\x3c!--/ko--\x3e \x3c!-- Intro message --\x3e\x3c!-- ko if:Type() == 2 && $parent.showIntro() --\x3e        <div class="msg_intro" data-bind="html: Message()"></div>        \x3c!--/ko--\x3e  \x3c!-- Options --\x3e  \x3c!-- ko if:Type() == 4 --\x3e<div class="intelecomoption" data-bind="css: {\'intelecomthumbs-parent\' : thumbs()}"><form action=""  data-bind="submit: $root.confirmOption" ><h1 data-bind="text:(offerResult() ? offerConfirmedHeader() : offerIntroHeader()), visible: showHeader"></h1>\x3c!-- ko foreach:{data:offerOptions} --\x3e<button data-bind="click:  function(item){ $parent.selectedRadioValue(item.text);  $root.confirmOption($parent); }, css:{ liSelected: $parent.selectedRadioValue() == text },attr:{disabled:(!!$parent.offerResult() || $root.disableEditor())}" ><div class="radio" data-bind="visible:($parent.selectedRadioValue() != text || !$parent.offerResult()), text: ($index() + 1)"></div><div class="radio" data-bind="visible:($parent.selectedRadioValue() == text && $parent.offerResult())"><i class="intelecom_icon-ok"></i></div><span data-bind="text:text"></span></button>\x3c!--/ko--\x3e<div class="intelecomoption__footer"><div class="intelecomoption__confirmed" data-bind="visible:offerResult()"><span data-bind="text:offerConfirmedMsg, visible: showConfirmedMsg"></span><a href="#" data-bind="click:$root.cancelOption,visible:!$root.disableEditor()&& showCancelButton()" tabindex="0" role="button"><%= lbl_cancel_option %></a></div></div></form>       <div class="intelecomthumbs">           <button data-bind="visible: thumbs, click: $root.sendThumbsUpCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-up\': !thumbsUp(), \'intelecomchaticon-thumbs-up-solid\': thumbsUp()}" aria-label="thumbs up" ></button>            <button data-bind="visible: thumbs, click: $root.sendThumbsDownCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-down\': !thumbsDown(), \'intelecomchaticon-thumbs-down-solid\': thumbsDown()}" aria-label="thumbs down" ></button>        </div></div>\x3c!--/ko--\x3e  \x3c!-- Command --\x3e  \x3c!-- ko if:Type() == 6 && showCommand --\x3e<div class="intelecomcommand" ><h1 data-bind="text:headerText"></h1><div class="intelecomcommand__footer" ><button type="submit" class="intelecomchat__button" data-bind="visible:showButton(),enable:!$root.disableEditor(),click:$root.chatCommandCmd,text:buttonText"></button><div class="intelecomcommand__buttonPressed" data-bind="visible:!showButton()"><i class="intelecom_icon-ok"></i><span data-bind="text:stateText" ></span></div></div></div>\x3c!--/ko--\x3e  \x3c!-- JsonTemplate --\x3e  \x3c!-- ko if:Type() == 9 && template == "genericCard" --\x3e   <div class="intelecomdialog__answer">     <div class="intelecomdialog__answer-text intelecomtemplate-generic-card" data-bind="css: {\'intelecomthumbs-parent\' : thumbs()}" tabindex="0">       <div class="sr-only" data-bind="html: sentTimeFormatted()" ></div>       <div class="intelecomdialog__answer-info" data-bind="visible: $parent.beenInConference()">         <small data-bind="html: NickName() "></small>       </div>       <div  data-bind="style: { width: imagePosition == \'left\' ? \'47%\' : \'100%\', float: imagePosition == \'left\' ? \'left\' : \'top\' }" >          <img width="100%" data-bind="attr:{src: imageUrl, alt: imageAlt}" ></img>       </div>       <div  data-bind="style: { width: imagePosition == \'left\' ? \'50%\' : \'100%\', float: imagePosition == \'left\' ? \'right\' : \'bottom\' }" >           <h1 data-bind="text:headerText"></h1>           <div data-bind="text:bodyText" ></div>           <a data-bind="text:linkText, attr: { href: linkUrl }"   target="_blank" tabindex="0" ></a>       </div>       <div class="intelecomdialog__answer-arrow-shadow" ></div>       <div class="intelecomdialog__answer-arrow" ></div>       <div class="intelecomthumbs">           <button class="thumbs_up" data-bind="visible: thumbs, click: $root.sendThumbsUpCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-up\': !thumbsUp(), \'intelecomchaticon-thumbs-up-solid\': thumbsUp()}" aria-label="thumbs up" ></button>            <button class="thumbs_down" data-bind="visible: thumbs, click: $root.sendThumbsDownCmd, disable: $root.disableEditor(), css: {\'intelecomchaticon-thumbs-down\': !thumbsDown(), \'intelecomchaticon-thumbs-down-solid\': thumbsDown()}" aria-label="thumbs down" ></button>        </div>    </div>    <div class="intelecomdialog__answer-time" data-bind="html:sentTimeFormatted()" aria-hidden="true"></div>   </div>\x3c!--/ko--\x3e  \x3c!-- ko if:Type() == 9 && template != "genericCard" --\x3e   <div class="intelecomdialog__answer"><div class="intelecomdialog__answer-text" tabindex="0"><div class="sr-only" data-bind="html: sentTimeFormatted()" ></div><div class="intelecomdialog__answer-info" data-bind="visible: $parent.beenInConference()"> <small data-bind="html: NickName() "></small></div><span data-bind="text: \'Sorry, the template \' + template + \' is not supported.\'" ></span><div class="intelecomdialog__answer-arrow-shadow" ></div><div class="intelecomdialog__answer-arrow" ></div></div><div class="intelecomdialog__answer-time" data-bind="html:sentTimeFormatted()" aria-hidden="true"></div></div>  \x3c!--/ko--\x3e\x3c!--/ko--\x3e<div class="intelecomdialog__typing" data-bind="visible:agentTypingStatus.isTyping, text: agentTypingStatus.nickName() + \' <%= msg_is_typing %>...\'"></div></div></div></div></div></div>'),footer:g.template('<div class="intelecomfooter" data-bind="visible: inChatDialog()" >        <textarea class="intelecomtext" placeholder="<%= placeholderMessage %>" aria-label="<%= placeholderMessage %>" data-bind="textInput:messageText, event:{keypress:messageKeysHandler}, disable: disableEditor, hasFocus: inChatDialog(), attr: { maxlength : maxCharsSend() }"></textarea>        <button type="submit" class="intelecomsubmit icon intelecomchaticon-right" data-bind="click: sendMessageCmd, disable: disableEditor" tabindex="0" aria-label="send message" ></button>        <span class="intelecom__maxchars" data-bind="visible: maxCharsSend() > 0 && messageText().length > 0, text: messageText().length, css: {\'intelecom__maxchars_reached\': messageText().length >= maxCharsSend() }" ></span></div>'),leave:g.template('<div class="intelecomleaveform" data-bind="visible: afterExit() && !showSurvey()"><div class="intelecomcaptcha__title" tabindex="0" data-bind="html:msgGoodbyeHeader()"></div><label class="intelecomcaptcha__label" tabindex="0" data-bind="html:msgGoodbye()"></label><p></p><%= tmplSendEmail %> </div>'),survey:g.template('<div class="intelecomsurveyform" data-bind="visible: afterExit() && showSurvey()"><div class="intelecomcaptcha__title" tabindex="0" data-bind="html:msgSurveyHeader()"></div><form class="intelecomsurveyform__form" action=""  data-bind="submit: sendSurveyCmd" ><label class="intelecomcaptcha__label" tabindex="0" data-bind="html:msgSurveyQuestion()"></label><div class="intelecomsurvey"></div><textarea class="intelecomtext" aria-label="comment" rows="3" placeholder="<%= placeholder_survey_comment %>" data-bind="textInput:surveyComment, event:{keypress:surveyCommentKeysHandler}"></textarea><button type="submit" class="intelecomchat__button send_info " ><%= btn_send_survey %></button><p><label class="intelecomcaptcha__label"  data-bind="text:sendSurveyMessage()"></label></form></div>'),sendEmail:g.template('<div class="intelecomsendemail" data-bind="visible: !denyArchiving()"><div class="intelecomcaptcha__title" tabindex="0"><%= h_send_email %></div><label class="intelecomcaptcha__label" tabindex="0"><%= lbl_send_email %></label><form class="intelecomleaveform__form" action=""  data-bind="submit: sendEmailCmd" ><input class="intelecomchat__input intelecomchat__input_margin_b" name="CaptchaResult" type="email" aria-label="<%= lbl_send_email %>" data-bind="value: toEmailAddress" placeholder="<%= lbl_send_email_adr %>" ></input> <button  type="submit" class="intelecomchat__button send_info "><%= btn_send_email %></button><p><label class="intelecomcaptcha__label" role="alert" data-bind="text:emailMessage()"></label></form></div>'),audio:g.template('<audio id="intelecomaudiomessage" style="position:absolute;display:none;"  preload="none" src="<%= audioUrl %>"></audio>')})}(),function(a){var b,c={className:"autosizejs",id:"autosizejs",append:"\n",callback:!1,resizeDelay:10,placeholder:!0},d='<textarea tabindex="-1" style="position:absolute; top:-999px; left:0; right:auto; bottom:auto; border:0; padding: 0; -moz-box-sizing:content-box; -webkit-box-sizing:content-box; box-sizing:content-box; word-wrap:break-word; height:0 !important; min-height:0 !important; overflow:hidden; transition:none; -webkit-transition:none; -moz-transition:none;"/>',e=["fontFamily","fontSize","fontWeight","fontStyle","letterSpacing","textTransform","wordSpacing","textIndent","whiteSpace"],f=a(d).data("autosize",!0)[0];f.style.lineHeight="99px","99px"===a(f).css("lineHeight")&&e.push("lineHeight"),f.style.lineHeight="",a.fn.autosize=function(d){return this.length?(d=a.extend({},c,d||{}),f.parentNode!==document.body&&a(document.body).append(f),this.each(function(){function c(){var b,c=window.getComputedStyle?window.getComputedStyle(m,null):null;c?(b=parseFloat(c.width),"border-box"!==c.boxSizing&&"border-box"!==c.webkitBoxSizing&&"border-box"!==c.mozBoxSizing||a.each(["paddingLeft","paddingRight","borderLeftWidth","borderRightWidth"],function(a,d){b-=parseFloat(c[d])})):b=n.width(),f.style.width=Math.max(b,0)+"px"}function g(){var g={};if(b=m,f.className=d.className,f.id=d.id,j=parseFloat(n.css("maxHeight")),a.each(e,function(a,b){g[b]=n.css(b)}),a(f).css(g).attr("wrap",n.attr("wrap")),c(),window.chrome){var h=m.style.width;m.style.width="0px";m.offsetWidth;m.style.width=h}}function h(){var a,e;b!==m?g():c(),!m.value&&d.placeholder?f.value=n.attr("placeholder")||"":f.value=m.value,f.value+=d.append||"",f.style.overflowY=m.style.overflowY,e=parseFloat(m.style.height)||0,f.scrollTop=0,f.scrollTop=9e4,a=f.scrollTop,j&&a>j?(m.style.overflowY="scroll",a=j):(m.style.overflowY="hidden",a<k&&(a=k)),a+=o,Math.abs(e-a)>.01&&(m.style.height=a+"px",f.className=f.className,p&&d.callback.call(m,m),n.trigger("autosize.resized"))}function i(){clearTimeout(l),l=setTimeout(function(){var a=n.width();a!==r&&(r=a,h())},parseInt(d.resizeDelay,10))}var j,k,l,m=this,n=a(m),o=0,p=a.isFunction(d.callback),q={height:m.style.height,overflow:m.style.overflow,overflowY:m.style.overflowY,wordWrap:m.style.wordWrap,resize:m.style.resize},r=n.width(),s=n.css("resize");n.data("autosize")||(n.data("autosize",!0),"border-box"!==n.css("box-sizing")&&"border-box"!==n.css("-moz-box-sizing")&&"border-box"!==n.css("-webkit-box-sizing")||(o=n.outerHeight()-n.height()),k=Math.max(parseFloat(n.css("minHeight"))-o||0,n.height()),n.css({overflow:"hidden",overflowY:"hidden",wordWrap:"break-word"}),"vertical"===s?n.css("resize","none"):"both"===s&&n.css("resize","horizontal"),"onpropertychange"in m?"oninput"in m?n.on("input.autosize keyup.autosize",h):n.on("propertychange.autosize",function(){"value"===event.propertyName&&h()}):n.on("input.autosize",h),!1!==d.resizeDelay&&a(window).on("resize.autosize",i),n.on("autosize.resize",h),n.on("autosize.resizeIncludeStyle",function(){b=null,h()}),n.on("autosize.destroy",function(){b=null,clearTimeout(l),a(window).off("resize",i),n.off("autosize").off(".autosize").css(q).removeData("autosize")}),h())})):this}}(a||k),function(){function a(){n<p&&(n=p),m<o&&(m=o),n>=i&&(n=i),m>=h&&(m=h)}function b(){t=0,v=h-m,u=v/2,w=0,y=i-n,x=y/2}function c(){if(f){var a=[];j<u+2*g&&j>u-2*g&&a.push("center"),j<t+g&&a.push("left"),j>v-g&&a.push("right"),a.length>0?k.inArray(r,a)<0&&(r=a[0]):r="",a=[],l<x+2*g&&l>x-2*g&&a.push("middle"),l<w+g&&a.push("top"),l>y-g&&a.push("bottom"),a.length>0?k.inArray(s,a)<0&&(s=a[0]):s="","middle"==s&&""==r&&(s=""),"center"==r&&""==s&&(r="")}}function d(){l>y||i<n?l=y:l<w&&(l=w),j>v||h<m?j=v:j<t&&(j=t)}function e(){switch(r){case"left":j=t;break;case"center":j=u;break;case"right":j=v}switch(s){case"top":l=w;break;case"middle":l=x;break;case"bottom":l=y}}var f,g,h,i,j,l,m,n,o,p,r,s,t,u,v,w,x,y;q.chatStickyDialog={init:function(c,k,q,t,u,v,w,x,y,z,A,B){f=c,g=k,h=q,i=t,j=u,l=v,m=w,n=x,o=y,p=z,r=A,s=B,a(),b(),d(),e()},setWindowSize:function(c,f){h=c,i=f,a(),b(),d(),e()},setChatPosAndSize:function(f,g,h,i){j=f,l=g,m=h,n=i,a(),b(),c(),d(),e()},getInfo:function(){return{left:j,top:l,width:m,height:n,horizontal:r,vertical:s,windowWidth:h,windowHeight:i}}}}(),function(){var a={init:function(){var b=q.chatCookies.get();if(a.vm.msgFormHeader(a.options.msgFormHeader||""),a.vm.msgFormIngress(a.options.msgFormIngress||""),a.renderHtml(),a.chatDialog=k(".intelecomchatdialog"),a.initSurvey(),a.bind(),a.vm.browserSupported(q.browserInfo.isBrowserSupported()),a.vm.mute(!0===b.mute),a.vm.fontSize("number"==typeof b.fontSize?b.fontSize:0),a.vm.firstStart(!0),a.vm.captcha(!a.options.authConnectionName&&a.model.ShowCaptcha),a.vm.showForm(a.options.showForm),a.vm.showDenyArchiving(a.options.showDenyArchiving),a.vm.denyArchiving(a.options.denyArchiving),a.vm.enteredFormName(a.options.nickName),a.vm.enteredFormIssue(a.options.chatIssue),a.vm.enteredChatId(a.options.chatId),a.model.ChatId&&a.model.ChatId.match("@")&&a.vm.toEmailAddress(a.model.ChatId),a.vm.showIntro(a.options.showIntro),a.vm.msgGoodbye(a.model.MsgGoodbye||q.langChat.l("lbl_after_exit")),a.vm.msgGoodbyeHeader(a.model.MsgGoodbyeHeader||q.langChat.l("h_after_exit")),a.vm.msgSurveyQuestion(a.model.MsgSurveyQuestion||q.langChat.l("lbl_survey_question")),a.vm.msgSurveyHeader(a.model.MsgSurveyHeader||q.langChat.l("h_survey_header")),k.isEmptyObject(a.options.inputFields)?(q.chatViewModel.addInputField({inputLabel:q.langChat.l("lbl_enterName"),inputVariableName:"enteredFormName",inputPlaceholder:q.langChat.l("placeholder_yourName")}),q.chatViewModel.addInputField({inputLabel:q.langChat.l("lbl_enterEmail"),inputVariableName:"enteredChatId",inputType:"email",inputPlaceholder:q.langChat.l("placeholder_yourEmail")}),a.options.queues.length>0&&q.chatViewModel.addInputField({inputLabel:a.options.queueLabel||q.langChat.l("lbl_selectQueue"),inputVariableName:"selectedQueueKey",inputType:"select",inputPlaceholder:a.options.queuePlaceholder||q.langChat.l("placeholder_selectQueue"),inputItems:a.options.queues,inputRequired:!0,inputValue:a.options.queueKey||""}),a.options.chatIssues.length>0&&q.chatViewModel.addInputField({inputLabel:a.options.chatIssueLabel||q.langChat.l("lbl_selectFormIssue"),inputVariableName:"enteredFormIssue",inputType:"select",inputPlaceholder:a.options.chatIssuePlaceholder||q.langChat.l("placeholder_selectFormIssue"),inputItems:a.options.chatIssues,inputRequired:!0,inputValue:a.options.chatIssue||""})):k.each(a.options.inputFields,function(a,b){q.chatViewModel.addInputField(b)}),k(".intelecomtext").autosize({placeholder:!1,append:" "}),b.iqSessionId&&a.vm.inActiveChat(!0),a.options.startTextFromBottom&&k(".intelecomMsgPnlCell").addClass("intelecomStartTextFromBottom"),q.browserInfo.isMobile())a.chatDialog.addClass("intelecomismobile");else{!0===a.options.resizable&&a.chatDialog.resizable({handles:"n,e,s,w,ne,se,sw,nw"}).bind({resizestop:function(){a.onChatMoveResize()}}),!0===a.options.draggable&&a.chatDialog.draggable({cancel:".intelecomchatinner *",revert:function(){a.onChatMoveResize()}});var c=q.browserInfo.getSize(),d=Math.min(a.minWidth,c.width),e=Math.min(a.minHeight,c.height);a.chatDialog.css({minWidth:d,minHeight:e}),a.initStickyDialog(b)}k(window).on("resize",function(){a.onWindowResize()}),k(window).on("focus",function(){a.closeNotification()}),setInterval(function(){a.updateAgentTypingStatus()},1e3),a.chatDialog.trigger("onChatInitialized",[null,a.getTriggerData()])},renderHtml:function(){a.chatContainer.prepend(q.chatTemplates.chatFrame({intelecomUrl:q.langChat.l("intelecom_url"),tmplCapthca:q.chatTemplates.captcha({chatCaptchaHeader:q.langChat.l("h_captcha"),chatCaptchaLabel:q.langChat.l("lbl_captcha"),btnEnterCaptcha:q.langChat.l("btn_enter_captcha")}),tmplEnter:q.chatTemplates.enter({startChat:q.langChat.l("btn_start_chat"),denyArchivingLabel:q.langChat.l("lbl_deny_archiving")}),tmplLeave:q.chatTemplates.leave({tmplSendEmail:this.options.showSendEmail?q.chatTemplates.sendEmail({h_send_email:q.langChat.l("h_send_email"),lbl_send_email:q.langChat.l("lbl_send_email"),lbl_send_email_adr:q.langChat.l("lbl_send_email_adr"),btn_send_email:q.langChat.l("btn_send_email")}):""}),tmplDialog:q.chatTemplates.dialog({msg_is_typing:q.langChat.l("msg_is_typing"),btn_confirm_option:a.options.msgOptionButton||q.langChat.l("btn_confirm_option"),lbl_cancel_option:a.options.msgOptionCancel||q.langChat.l("lbl_cancel_option")}),tmplFooter:q.chatTemplates.footer({placeholderMessage:q.langChat.l("placeholder_message")}),tmplError:q.chatTemplates.error(),tmplLoading:q.chatTemplates.loading(),tmplSurvey:q.chatTemplates.survey({placeholder_survey_comment:q.langChat.l("placeholder_survey_comment"),btn_send_survey:q.langChat.l("btn_send_survey")})})),q.browserInfo.isAudioSupported()&&a.chatContainer.prepend(q.chatTemplates.audio({audioUrl:q.helpers.getFullUrl("/Content/Client/audio/message.mp3")}))},initStickyDialog:function(b){var c,d,e,f,g,h,i,j;a.options.draggable?(i=null==b.horizontal?null==b.left?a.options.horizontalChatPosition:"":b.horizontal,h=null==b.vertical?null==b.top?a.options.verticalChatPosition:"":b.vertical):(i=a.options.horizontalChatPosition,h=a.options.verticalChatPosition),c=null===b.left?parseInt(a.chatDialog.css("left"),10):b.left,d=null===b.top?parseInt(a.chatDialog.css("top"),10):b.top,e=null===b.width?parseInt(a.chatDialog.css("width"),10):b.width,f=null===b.height?parseInt(a.chatDialog.css("height"),10):b.height,g=q.browserInfo.getSize(),q.chatStickyDialog.init(a.options.draggable,40,g.width,g.height,c,d,e,f,a.minWidth,a.minHeight,i,h),j=q.chatStickyDialog.getInfo(),a.chatDialog.css({left:j.left,top:j.top,width:j.width,height:j.height})},onChatMoveResize:function(){var b,c=parseInt(a.chatDialog.css("left"),10),d=parseInt(a.chatDialog.css("top"),10),e=parseInt(a.chatDialog.css("width"),10),f=parseInt(a.chatDialog.css("height"),10);q.chatStickyDialog.setChatPosAndSize(c,d,e,f),b=q.chatStickyDialog.getInfo(),a.chatDialog.css({left:b.left,top:b.top,width:b.width,height:b.height}),q.browserInfo.isAndroid()&&(a.fixAndroidKeyboard(q.browserInfo.getSize()),b=q.chatStickyDialog.getInfo()),q.chatCookies.setLeft(b.left).setTop(b.top).setWidth(b.width).setHeight(b.height).setHorizontal(b.horizontal).setVertical(b.vertical).save()},onWindowResize:function(){var b=q.browserInfo.getSize(),c=q.chatStickyDialog.getInfo();if(c.windowWidth!=b.width||c.windowHeight!=b.height){var d=Math.min(a.minWidth,b.width),e=Math.min(a.minHeight,b.height);a.chatDialog.css({minWidth:d,minHeight:e}),q.chatStickyDialog.setWindowSize(b.width,b.height),c=q.chatStickyDialog.getInfo(),a.chatDialog.css({left:c.left,top:c.top,width:c.width,height:c.height})}q.browserInfo.isAndroid()&&(a.fixAndroidKeyboard(b),c=q.chatStickyDialog.getInfo()),q.chatCookies.setLeft(c.left).setTop(c.top).setWidth(c.width).setHeight(c.height).setHorizontal(c.horizontal).setVertical(c.vertical).save()},fixAndroidKeyboard:function(b){function c(a){var b=a.prev();return 1===b.length&&"LABEL"===b[0].tagName?b:(b=a.parent().prev(),1===b.length&&"LABEL"===b[0].tagName?b:a)}function d(a){j.scrollTop(0),j.scrollTop(a.offset().top-j.offset().top)}var e,f,g,h,i,j=k(".intelecomchatoverlay"),l=k("textarea.intelecomtext:focus"),m=k(".intelecomchat__input:focus");1===l.length&&a.scrollMsgsPnlDown(),1===m.length&&b.height<a.minHeight?(j.css("overflow-y","scroll"),e=parseInt(a.chatDialog.css("left"),10),f=0,g=parseInt(a.chatDialog.css("width"),10),h=b.height,q.chatStickyDialog.setChatPosAndSize(e,f,g,h),i=q.chatStickyDialog.getInfo(),a.chatDialog.css({left:i.left,top:i.top,minHeight:100,height:h}),d(c(m))):parseInt(a.chatDialog.css("height"),10)<a.minHeight&&(j.css("overflow-y","hidden"),a.chatDialog.css({minHeight:""}),e=parseInt(a.chatDialog.css("left"),10),f=parseInt(a.chatDialog.css("top"),10),g=parseInt(a.chatDialog.css("width"),10),h=a.minHeight,q.chatStickyDialog.setChatPosAndSize(e,f,g,h),i=q.chatStickyDialog.getInfo(),a.chatDialog.css({left:i.left,top:i.top,width:i.width,height:i.height}))},scrollMsgsPnlDown:function(){var a=k(".intelecomdialog");setTimeout(function(){a.scrollTop(a[0].scrollHeight)},0)},bind:function(){function b(a){a?q.chatStarter.show():q.chatStarter.hide()}var d={duration:700,step:a.scrollMsgsPnlDown};c.bindingHandlers.slideVisible={init:function(a,b){k(a).css({opacity:"0.0"}).slideUp(0)},update:function(a,b){var c=b(),e=k(a);e.is(":visible")?c||e.stop().slideUp(d):c&&e.stop().css({opacity:"0.0"}).slideDown(d).animate({opacity:"1.0"})}},a.vm.showStarter.subscribe(b),b(a.vm.showStarter()),a.vm.fontSize.subscribe(function(){var b=k(".intelecomchatinner"),c=k(".intelecomtext"),d=parseInt(b.css("font-size")),e=parseInt(c.css("font-size"));return function(f){var g=d+f+"px",h=e+f+"px";b.css("font-size",g),c.css("font-size",h),q.chatCookies.setFontSize(f).save(),a.scrollMsgsPnlDown(),function a(){c.css("font-size")!=h?setTimeout(a,100):c.trigger("autosize.resizeIncludeStyle")}()}}()),a.vm.mute.subscribe(function(a){q.chatCookies.setMute(a).save()}),a.vm.minimized.subscribe(function(a){q.chatCookies.setMinimized(a).save()}),c.bindingHandlers.scrollBarDown={update:function(b,c){b&&a.scrollMsgsPnlDown()}},c.bindingHandlers.placeholder={init:function(a,b){var d=b();c.applyBindingsToNode(a,{attr:{placeholder:d}})}},q.extend(a.vm,{messageKeysHandler:function(b,c){function d(){var b=a.vm.clientTypingStatus.timeStamp(),c=(new Date).getTime();(null===b||b+a.typingMsgTimeout<c)&&(a.vm.clientTypingStatus.timeStamp(c),a.sendMessageService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,"TYPE_MSG",1))}var e=a.vm.messageText(),f=!e||e.match(/^[\s\n]*$/);return(13!==c.keyCode&&32!==c.keyCode||!f)&&60!==c.charCode&&62!==c.charCode&&(f||(13!==c.keyCode||c.shiftKey?d():a.sendChatMessage()),!0)},surveyCommentKeysHandler:function(b,c){var d=a.vm.surveyComment(),e=!d||d.match(/^[\s\n]*$/);return(13!==c.keyCode&&32!==c.keyCode||!e)&&60!==c.charCode&&62!==c.charCode&&(e||13!=c.keyCode||c.shiftKey||a.sendSurvey(),!0)},sendMessageCmd:c.asyncCommand({execute:function(b,c,d){k.when(a.sendChatMessage(b)).always(d)}}),animateMessage:function(b){var c=b.className;return 1===b.nodeType&&c&&("intelecomdialog__question"===c||c.match("intelecomdialog__answer")||c.match("intelecomoption")||"intelecomcommand"===c)&&k(b).hide().animate({opacity:"toggle",height:"toggle"},{step:function(){a.scrollMsgsPnlDown()},duration:200}),!0},sendEmailCmd:c.asyncCommand({execute:function(b,c,d){k.when(a.sendEmailAndValidate(b)).always(d)}}),enterCaptchaCmd:c.asyncCommand({execute:function(b,c,d){k.when(a.enterCaptcha(b)).always(d)}}),enterFormCmd:c.asyncCommand({execute:function(b,c,d){k.when(a.enterForm(b)).always(d)}}),sendSurveyCmd:c.asyncCommand({execute:function(b,c,d){k.when(a.sendSurvey(b)).always(d)}}),exitChatCmd:c.command({execute:function(){a.tryExitChat("ExitButton")}}),minimizeChatCmd:c.command({execute:function(){a.chatDialog.trigger("onChatWindowMinimize",["MinimizeButton",a.getTriggerData()]),a.vm.minimized(!0)}}),expandChatCmd:c.command({execute:function(){a.startChat()}}),muteChatCmd:c.command({execute:function(){a.switchMuteMode()}}),fontSizeChatCmd:c.command({execute:function(){a.incrementFontSize()}}),confirmOption:function(b){var c=b.selectedRadioValue();c&&a.sendOptionResult(b.Id(),c)},sendThumbsUpCmd:function(b){var c=0;b.thumbsUp()?b.thumbsUp(!1):(b.thumbsUp(!0),b.thumbsDown(!1),c=2),a.sendThumbs(b.Id(),""+c)},sendThumbsDownCmd:function(b){var c=0;b.thumbsDown()?b.thumbsDown(!1):(b.thumbsDown(!0),b.thumbsUp(!1),c=1),a.sendThumbs(b.Id(),""+c)},cancelOption:function(b){a.sendOptionResult(b.Id(),"")},chatCommandCmd:function(b){b.showButton(!1),a.chatDialog.trigger("onChatCommand",[b.command,b.data])}}),c.applyBindings(a.vm,a.chatContainer[0])},updateAgentTypingStatus:function(){var b=a.vm.agentTypingStatus.timeStamp(),c=(new Date).getTime();"number"==typeof b&&b+a.typingMsgTimeout+5e3<c&&a.vm.agentTypingStatus.timeStamp(null)},switchMuteMode:function(){a.vm.mute(!a.vm.mute())},incrementFontSize:function(){a.vm.fontSize(a.vm.fontSize()+1)},startChat:function(){var b;if(!a.vm.browserSupported())return void alert(q.langChat.l("msg_browserNotSupported"));a.vm.minimized()&&a.chatDialog.trigger("onChatWindowShow",["StartChat",a.getTriggerData()]),a.vm.minimized(!1),a.vm.inActiveChat(!0),!0===a.vm.firstStart()&&(a.vm.firstStart(!1),a.vm.afterExit(!1),a.vm.showError(!1),b=q.chatCookies.get(),a.continueChatSession(b.requestId,b.iqSessionId).done(function(){a.vm.showForm(!1),a.vm.captcha(!1),a.model.ChatId&&a.model.ChatId.match("@")&&a.vm.toEmailAddress(a.model.ChatId),a.pollForQueuePosition(),a.pollForData(),a.sendTracks()}).fail(function(){a.checkIfChatOpenElseShowError().done(function(){if(a.options.authConnectionName&&a.needAuthCode())return void a.authenticate(a.options.authConnectionName);a.vm.showForm()||a.checkSelectedTimeIdElseShowError(a.options.timeId2Map).done(function(){a.startChatSession("StartChat").done(function(){a.logOutFromAuth()||a.vm.captcha()||(a.pollForQueuePosition(),a.pollForData())})})})}))},initSurvey:function(){if("radio"==a.options.surveyType){for(var b="",c=a.options.surveyMinScore;c<=a.options.surveyMaxScore;c++)b+='<label class="intelecomsurvey__radio">'+c+'<br><input type="radio" name="survey" value="'+c+'" data-bind="checked: surveyResult"></input></label>';k(".intelecomsurvey").append(b)}else k(".intelecomsurvey").starrr({max:a.options.surveyMaxScore,change:function(b,c){a.vm.surveyResult(c)}})},clearSurvey:function(){a.vm.sendSurveyMessage(""),a.vm.surveyComment(""),"radio"==a.options.surveyType&&a.vm.surveyResult(-1)},tryExitChat:function(b){a.vm.inChatDialog()?window.confirm(q.langChat.l("msg_want_to_exit"))&&a.exitChat(b).done(function(){a.vm.showSurvey(a.model.EnableSurvey),a.vm.afterExit(!0),a.handleExitsAfterDialog("ChatJustEnded",b)}):a.vm.afterExit()?a.handleExitsAfterDialog("tryExit",b):(a.vm.minimized(!0),a.clearChat(),q.chatCookies.clear(),a.chatDialog.trigger("onChatWindowMinimize",[b,a.getTriggerData()]))},handleExitsAfterDialog:function(b,c){if("ChatJustEnded"===b)a.options.surveyOnlyWhenConnected&&!a.wasConnected&&a.vm.showSurvey(!1),a.vm.showSurvey()?a.sendOfferSurvey():a.model.SendEmailAutomatically&&!a.model.DenyArchiving&&a.sendEmail(!0);else if("SendSurvey"===c||"ExitButton"===c&&a.vm.showSurvey())a.vm.showSurvey(!1),a.model.SendEmailAutomatically&&!a.model.DenyArchiving&&a.sendEmail(!0);else if("SendEmail"===c||"ExitButton"===c&&!a.vm.showSurvey()){a.vm.minimized(!0);var d=a.getTriggerData();a.clearChat(),q.chatCookies.clear(),a.chatDialog.trigger("onChatWindowClose",[c,d]),d=null,a.vm.afterExit(!1)}},reloadOptions:function(a){q.chatModel.update(a)},clearChat:function(){a.options.log&&i("clear chat."),a.model=q.chatModel.create(a.options),a.vm.lastMessageId(0),a.vm.clientTypingStatus.timeStamp(null),a.vm.firstStart(!0),a.vm.chatMessages([]),a.vm.captcha(!a.options.authConnectionName&&a.model.ShowCaptcha),a.vm.showForm(a.options.showForm),a.vm.enteredCaptchaResult(""),a.vm.messageText(""),a.vm.activeUsers([]),a.vm.infoMessageStr(""),a.vm.needPollForQueuePosition(!0),a.vm.showLoading(!0),a.vm.inActiveChat(!1),a.vm.emailMessage(""),a.vm.requestDisconnected(!1),a.wasConnected=!1,a.lastConnectedUserId=null,this.clearSurvey()},shakeInvalidInput:function(a,b){b&&a.after('<div class="ljalsdj97234sdfjkjhs sr-only" role="alert">'+b+"</div>"),a.animate({marginLeft:7},80,function(){a.css({bordlerWidth:1,borderColor:"red",borderStyle:"solid"})});for(var c=0;c<7;c++)a.animate({marginLeft:c%2==0?-7:7},80);a.animate({marginLeft:0},80,function(){a.css({bordlerWidth:"",borderColor:"",borderStyle:""})})},enterCaptcha:function(){var b=k.Deferred(),c=k(".intelecomcaptcha input");return k(".ljalsdj97234sdfjkjhs").remove(),a.checkIfChatOpenElseShowError().done(function(){a.vm.enteredCaptchaResult()?a.vm.enteredCaptchaResult()!=a.vm.captchaResult()?(a.vm.captchaMessage(q.langChat.l("msg_captcha_entered_is_wrong")),a.shakeInvalidInput(c,q.langChat.l("msg_captcha_entered_is_wrong")),b.reject()):(a.model.CaptchaResult=a.vm.enteredCaptchaResult(),a.startChatSession("enterChapta").done(function(){a.logOutFromAuth()&&b.resolve(),a.vm.captcha()||(a.pollForQueuePosition(),a.pollForData()),b.resolve()}).fail(function(){b.reject()})):(a.vm.captchaMessage(q.langChat.l("msg_captcha_entered_is_empty")),a.shakeInvalidInput(c,q.langChat.l("msg_captcha_entered_is_empty")),b.reject())}).fail(function(){b.reject()}),b.promise()},enterForm:function(){var b=k.Deferred(),c=!1,d=a.options.timeId2Map;return k(".ljalsdj97234sdfjkjhs").remove(),k.each(a.vm.inputFields(),function(b,e){var f=e.inputVariableName(),g=e.inputValue(),h=e.inputType(),i=e.inputRequired(),j=!1;switch(i&&!g&&(j=!0),"email"!==h||""===g||g.match("@")||(j=!0),f){case"enteredFormName":a.model.NickName=g;break;case"enteredChatId":a.model.ChatId=g,a.vm.toEmailAddress(g);break;case"enteredFormIssue":a.model.ChatIssue=g;break;case"selectedQueueKey":a.model.QueueKey=g;break;case"timeId2Map":d=g;break;default:a.model.Variables[f]=g}j&&(a.shakeInvalidInput(k(".intelecomchat__input[name*='"+f+"']"),"Invalid input in "+e.inputLabel()),c=!0)}),c?(b.reject(),b.promise()):(a.model.DenyArchiving=a.vm.denyArchiving(),a.checkIfChatOpenElseShowError().done(function(){a.checkSelectedTimeIdElseShowError(d).done(function(){a.startChatSession("enterForm").done(function(){a.logOutFromAuth()&&b.resolve(),a.vm.showForm(!1),
a.vm.captcha()||(a.pollForQueuePosition(),a.pollForData()),b.resolve()}).fail(function(){b.reject()})}).fail(function(){b.reject()})}).fail(function(){b.reject()}),b.promise())},sendEmailAndValidate:function(){var b=k.Deferred();return a.vm.toEmailAddress()?a.sendEmail(!1).done(function(){b.resolve()}).fail(function(){b.reject()}):(a.shakeInvalidInput(k(".intelecomleaveform__form .intelecomchat__input")),a.vm.emailMessage(q.langChat.l("err_enter_email_address")),b.reject()),b.promise()},sendEmail:function(b){var c=k.Deferred();try{if(null==a.model.IqSessionId||!a.vm.toEmailAddress())return c.reject(),c.promise();a.vm.emailMessage(q.langChat.l("msg_email_sending")),a.sendEmailService(a.model.CustomerKey,a.model.IqSessionId,a.vm.toEmailAddress(),a.model.EmailSubject,a.model.CustomerCss,a.model.FromEmailDisplayName,a.model.LanguageCode,a.options.emailPreText,a.options.emailPostText,a.options.emailLogoUrl,a.options.emailLogoLink,a.options.emailLogoAlt,a.options.emailTopBackgroundColor,a.options.emailTopLineColor,a.options.emailBottomLineColor,a.options.emailTextStyle).done(function(d){return d.Ok?(a.options.log&&i("send email OK."),a.vm.emailMessage(q.langChat.l(""+d.ReturnString)+" "+a.vm.toEmailAddress()),b&&a.tryExitChat("SendEmail"),c.resolve()):(a.options.log&&i("send email failed.",d.message),a.vm.emailMessage(q.langChat.l(""+d.ErrorName)),c.reject())}).fail(function(b){return a.options.log&&i("send email failed.",b),a.vm.emailMessage(q.langChat.l("err_chat_send_email")),c.reject()})}catch(b){return a.options.log&&i("sendEmail failed.",b.message),c.reject()}return c.promise()},sendOptionResult:function(b,c){var d,e=k.Deferred();try{if(null==a.model.IqSessionId)return a.options.log&&i("send option result failed: no iqSessionId."),e.reject();d=b+"|"+c,a.sendMessageService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,d,5).done(function(b){return b.Ok?(a.options.log&&i("send option result OK."),e.resolve()):(a.options.log&&i("send option result failed.",b.message),e.reject())}).fail(function(b){return a.options.log&&i("send option result.",b),e.reject()})}catch(b){return a.options.log&&i("sendOption failed.",b.message),e.reject()}return e.promise()},sendOfferSurvey:function(){var b=k.Deferred();return a.sendSurveyService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,a.vm.msgSurveyQuestion(),-1,a.options.surveyMaxScore,a.options.surveyMinScore,null,!0,null,a.model.QueueKey,a.lastConnectedUserId).done(function(c){return c.Ok?(a.options.log&&i("send offered survey."),a.surveyParentSessionId=c.ParentSessionId,b.resolve()):(a.options.log&&i("send offered survey failed.",c.message),b.reject())}).fail(function(c){return a.options.log&&i("send survey failed.",c),b.reject()}),b.promise()},sendSurvey:function(){var b=k.Deferred();try{if(null==a.model.IqSessionId)return b.reject();var c=parseInt(a.vm.surveyResult(),10);if(c<a.options.surveyMinScore)return a.vm.sendSurveyMessage(q.langChat.l("err_enter_survey")),b.reject();a.sendSurveyService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,a.vm.msgSurveyQuestion(),c,a.options.surveyMaxScore,a.options.surveyMinScore,a.vm.surveyComment(),!1,a.surveyParentSessionId,a.model.QueueKey,a.lastConnectedUserId).done(function(c){return c.Ok?(a.options.log&&i("send survey."),a.vm.sendSurveyMessage("OK"),a.surveyParentSessionId=c.ParentSessionId,a.tryExitChat("SendSurvey"),b.resolve()):(a.options.log&&i("send survey failed.",c.message),a.vm.sendSurveyMessage(q.langChat.l(""+c.ErrorName)),b.reject())}).fail(function(c){return a.options.log&&i("send survey failed.",c),a.vm.sendSurveyMessage(q.langChat.l("err_chat_send_survey")),b.reject()})}catch(c){return a.options.log&&i("sendSurvey failed.",c.message),b.reject()}return b.promise()},sendChatMessage:function(){var b,c=k.Deferred();try{if(null==a.model.IqSessionId)return c.reject();if(!(b=a.vm.messageText())||b.match(/^[\s\n]*$/))return a.clearTextField(),c.reject();b=b.replace(/^[\s\n]+/g,""),b=b.replace(/[\s\n]+$/g,""),b=b.replace(/\n/g,"[br]"),b=b.replace(/:\-?\)/g,"[smiley]regular_smile.gif[/smiley]"),b=b.replace(/;\-?\)/g,"[smiley]wink_smile.gif[/smiley]"),b=b.replace(/:\-?\(/g,"[smiley]sad_smile.gif[/smiley]"),b=b.replace(/:\-?@/g,"[smiley]angry_smile.gif[/smiley]"),b=b.replace(/:-?D/gi,"[smiley]teeth_smile.gif[/smiley]"),b=b.replace(/:\-?o/gi,"[smiley]omg_smile.gif[/smiley]"),b=b.replace(/:\-?P/gi,"[smiley]tongue_smile.gif[/smiley]"),b=b.replace(/:\*\)/gi,"[smiley]embarrassed_smile.gif[/smiley]"),b=b.replace(/:\-?\|/gi,"[smiley]whatchutalkingabout_smile.gif[/smiley]"),b=b.replace(/:\-\*/gi,"[smiley]kiss.gif[/smiley]"),a.vm.maxCharsSend()>0&&b.length>a.vm.maxCharsSend()&&(b=b.substring(0,a.vm.maxCharsSend())),a.sendMessageService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,b,0).done(function(b){return b.Ok?(a.options.log&&i("send chat message OK."),a.clearTextField(),a.vm.clientTypingStatus.timeStamp(null),c.resolve()):(a.options.log&&i("send chat message failed.",b.message),c.reject())}).fail(function(b){return a.options.log&&i("send chat message failed.",b),c.reject()})}catch(b){return a.options.log&&i("sendChatMessage failed.",b.message),c.reject()}return c.promise()},clearTextField:function(){a.vm.messageText(""),k(".intelecomtext").trigger("autosize.resize")},checkIfChatOpenElseShowError:function(){return q.chatInitialiser.checkIfChatOpen(a.options.customerKey,a.options.timeId,a.options.timeOpenExits,a.options.msgTimeClosed,a.options.visualQueueId,a.options.msgNoAgents,a.options.visualQueueExpression,a.options.visualQueueConditions).fail(function(){a.options.log&&i(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.errorMessageHeader(a.options.msgClosedHeader||q.langChat.l("h_closed")),a.vm.errorMessage(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.showError(!0)})},checkSelectedTimeIdElseShowError:function(b){var c=k.Deferred();return b?(q.chatInitialiser.getTimeExitService(a.options.customerKey,b,a.options.msgTimeClosed).done(function(d){if(d.Ok){if(a.options.log&&i("get time exit OK. Time exit found: ",d.Exit),d.Exit){if(a.options.timeId2QueueKeyMapping&&a.options.timeId2QueueKeyMapping.hasOwnProperty(b)){var e=Object.getOwnPropertyDescriptor(a.options.timeId2QueueKeyMapping,b);if(e&&e.value&&e.value.hasOwnProperty(d.Exit)){var f=Object.getOwnPropertyDescriptor(e.value,d.Exit);if(f&&f.value)return a.model.QueueKey=f.value,c.resolve()}}a&&a.vm.msgClosed(d.ClosedMessage),a.options.log&&i("Callcenter closed, Time exit found now: "+d.Exit),a.options.log&&i(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.errorMessageHeader(a.options.msgClosedHeader||q.langChat.l("h_closed")),a.vm.errorMessage(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.showError(!0)}else a.options.log&&i("Did not get any time exit");return c.reject()}return a.options.log&&i("get time exit failed. ",d.ErrorMessage),a.options.log&&i(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.errorMessageHeader(a.options.msgClosedHeader||q.langChat.l("h_closed")),a.vm.errorMessage(a.vm.msgClosed()||q.langChat.l("lbl_closed")),a.vm.showError(!0),c.reject()}).fail(function(b){return a.options.log&&i("get time exit failed. ",b),c.reject()}),c.promise()):c.resolve()},startChatSession:function(b){var c=k.Deferred();if(a.chatDialog.trigger("onChatStart",[b,a.getTriggerData()]),a.vm.denyArchiving(a.model.DenyArchiving),!a.model.QueueKey)return a.options.log&&i("Could not start chat. Missing queueKey"),c.reject();if(!a.model.CustomerKey)return a.options.log&&i("Could not start chat. Missing customerKey"),c.reject();try{a.options.log&&i("start chat session.."),a.startChatSessionService(a.model).done(function(b){return a.vm.showLoading(!1),b.Ok?(a.options.log&&i("start chat session OK."),q.chatModel.mergeWithServer(b.ReturnObject),a.vm.captchaResult(a.model.CaptchaResult),a.vm.captchaMessage(a.model.CaptchaMessage),a.model.RequestId>0?(a.vm.captcha(!1),q.chatCookies.setSessionId(a.model.IqSessionId).setRequestId(a.model.RequestId).save(),a.sendTracks()):a.vm.captcha(a.model.ShowCaptcha),a.vm.msgGoodbye(a.model.MsgGoodbye||q.langChat.l("lbl_after_exit")),a.vm.msgGoodbyeHeader(a.model.MsgGoodbyeHeader||q.langChat.l("h_after_exit")),a.vm.msgSurveyQuestion(a.model.MsgSurveyQuestion||q.langChat.l("lbl_survey_question")),a.vm.msgSurveyHeader(a.model.MsgSurveyHeader||q.langChat.l("h_survey_header")),a.model.ChatId&&a.model.ChatId.match("@")&&a.vm.toEmailAddress(a.model.ChatId),c.resolve()):(a.options.log&&i("start chat session failed.",b.ErrorMessage||b.ErrorName),"FailedToStartSession"==b.ErrorName?(a.options.log&&i(q.chatOptions.msgReject||q.langChat.l("err_chat_service_not_available")),a.vm.errorMessage(q.chatOptions.msgReject||q.langChat.l("err_chat_service_not_available"))):"FailedToAuthenticateInStartSession"==b.ErrorName?(a.options.log&&i(q.chatOptions.msgReject||q.langChat.l("err_failed_authentication")),a.vm.errorMessage(q.chatOptions.msgReject||q.langChat.l("err_failed_authentication"))):"TryToEnterSecureQueueWithoutBeingAuthenticated"==b.ErrorName?(a.options.log&&i(q.chatOptions.msgReject||q.langChat.l("err_queue_needs_authentication")),a.vm.errorMessage(q.chatOptions.msgReject||q.langChat.l("err_queue_needs_authentication"))):"TryToEnterSecureQueueWithoutRightConnectionName"==b.ErrorName?(a.options.log&&i(q.chatOptions.msgReject||q.langChat.l("err_queue_wrong_authentication")),a.vm.errorMessage(q.chatOptions.msgReject||q.langChat.l("err_queue_wrong_authentication"))):(a.options.log&&i(q.chatOptions.msgReject||q.langChat.l("msg_chat_reject")),a.vm.errorMessage(q.chatOptions.msgReject||q.langChat.l("msg_chat_reject"))),a.vm.showError(!0),c.reject())}).fail(function(b){return a.options.log&&i("start chat session failed.",b.ErrorName),c.reject()})}catch(b){return a.options.log&&i("startChatSession failed.",b.message),c.reject()}return c.promise()},continueChatSession:function(b,c){var d=k.Deferred();if(!b||!c)return d.reject();try{a.options.log&&i("try to continue chat session on request id "+b+" and iqSessionId "+c),a.continueChatSessionService(b,c,a.model).done(function(b){return b.Ok?(a.options.log&&i("continue chat session OK."),q.chatModel.mergeWithServer(b.ReturnObject),a.vm.msgGoodbye(a.model.MsgGoodbye||q.langChat.l("lbl_after_exit")),a.vm.msgGoodbyeHeader(a.model.MsgGoodbyeHeader||q.langChat.l("h_after_exit")),a.vm.msgSurveyQuestion(a.model.MsgSurveyQuestion||q.langChat.l("lbl_survey_question")),a.vm.msgSurveyHeader(a.model.MsgSurveyHeader||q.langChat.l("h_survey_header")),a.vm.showLoading(!1),a.vm.denyArchiving(a.model.DenyArchiving),d.resolve()):(a.options.log&&i("continue chat session failed.",b.ErrorMessage||b.ErrorName),d.reject())}).fail(function(b){return a.options.log&&i("continue chat session failed.",b.ErrorName),d.reject()})}catch(b){return a.options.log&&i("continue chat failed.",b.message),d.reject()}return d.promise()},exitChat:function(b){var c=k.Deferred();try{a.options.log&&i("disconnecting chat .."),a.endChatSessionService(a.model.CustomerKey,a.model.IqSessionId,a.model.RequestId,a.model.NickName).done(function(d){return d.Ok?(a.options.log&&i("end chat session OK."),q.chatCookies.clear(),a.chatDialog.trigger("onChatEnd",[b,a.getTriggerData()]),c.resolve()):(a.options.log&&i("end chat session failed.",d.message),c.reject())}).fail(function(b){return a.options.log&&i("end chat session failed.",b),c.reject()})}catch(b){a.options.log&&i("disconnectChat failed.",b.message)}return c.promise()},pollForData:function(){return a.getChatMessages().always(function(){a.vm.afterExit()||!a.model.IqSessionId||a.vm.requestDisconnected()||setTimeout(function(){a.pollForData()},a.refreshRate)})},getChatMessages:function(){var b=k.Deferred();try{if(null==a.model||null==a.model.IqSessionId||""==a.model.IqSessionId)return b.reject();a.getMessagesService(a.model.CustomerKey,a.model.IqSessionId,a.vm.lastMessageId()).done(function(d){var e,f,h=0===a.vm.lastMessageId(),j=!1,l={},m={},n={},o={};if(d.Ok){if(d.ReturnObject&&d.ReturnObject.length){if(a.options.log&&i("got new chat messages."),f=c.utils.arrayMap(d.ReturnObject,function(b){var c=!1;if(b.Id>a.vm.lastMessageId()&&a.vm.lastMessageId(b.Id),e=q.chatMessage.create(b),b.Message&&(g.string.startsWith(b.Message,"USER_CONNECTED")?(a.wasConnected=!0,a.lastConnectedUserId=b.UserId,a.addActiveUser(b),a.updateInfoMessage(e.systemMessage()),a.vm.needPollForQueuePosition()&&(a.vm.needPollForQueuePosition(!1),a.vm.chatMessages.remove(function(a){return a.Message()&&g.string.startsWith(a.Message(),"REQUEST_QUEUEPOSITION:")}))):g.string.startsWith(b.Message,"USER_DISCONNECTED")?(a.removeActiveUser(b),a.updateInfoMessage(e.systemMessage())):g.string.startsWith(b.Message,"REQUEST_QUEUEPOSITION:")||g.string.startsWith(b.Message,"USER_INVITED")?a.updateInfoMessage(e.systemMessage()):g.string.startsWith(b.Message,"REQUEST_PUTINQUEUE:")?a.vm.needPollForQueuePosition()||(a.vm.needPollForQueuePosition(!0),a.pollForQueuePosition()):g.string.startsWith(b.Message,"REQUEST_DISCONNECTED")?a.vm.requestDisconnected(!0):1===b.Role&&"TYPE_MSG"===b.Message?h||(a.vm.agentTypingStatus.timeStamp((new Date).getTime()),a.vm.agentTypingStatus.nickName(b.NickName),a.scrollMsgsPnlDown()):4===b.Type?(j=!0,c=!0):5===b.Type?l[e.offerResultMsgId]=e.offerResultValue:6===b.Type?(n[e.commandId]=e.stateText(),o[e.commandId]=e.showButton()):7===b.Type?m[e.thumbsMsgId]=e.thumbsReaction:1===b.Role&&0===b.Type&&(j=!0,c=!0,a.vm.agentTypingStatus.timeStamp(null)),c))if(b.Arguments&&b.Arguments.match(/maxchars=/)){var d=b.Arguments.match(/maxchars=(\d+)/),f=parseInt(d[1],10);isNaN(f)&&(f=0),a.vm.maxCharsSend(f)}else a.vm.maxCharsSend("");return e}),j&&!h&&a.vm.inChatDialog()&&(a.options.notifyChatterOnNewMessage&&a.showNotification(),!a.vm.mute()))try{k("#intelecomaudiomessage")[0].play()}catch(a){}c.utils.arrayPushAll(a.vm.chatMessages,f),k.isEmptyObject(l)||c.utils.arrayForEach(a.vm.chatMessages(),function(a){4===a.Type()&&l.hasOwnProperty(a.Id())&&a.offerResult(l[a.Id()])}),k.isEmptyObject(n)||c.utils.arrayForEach(a.vm.chatMessages(),function(a){6===a.Type()&&n.hasOwnProperty(a.commandId)&&(a.stateText(n[a.commandId]),a.showButton(o[a.commandId]))}),k.isEmptyObject(m)||c.utils.arrayForEach(a.vm.chatMessages(),function(a){(0===a.Type()&&1===a.Role()||4===a.Type())&&m.hasOwnProperty(a.Id())&&("1"===m[a.Id()]?a.thumbsDown(!0):"2"===m[a.Id()]&&a.thumbsUp(!0))})}return b.resolve()}return"IqSessionNotFound"==d.ErrorName?(a.options.log&&i("Iq session not found, disconnecting chat."),a.vm.requestDisconnected(!0)):a.options.log&&i("get chat message failed. ",d.ErrorMessage),b.reject()}).fail(function(c){return a.options.log&&i("get chat message failed. ",c),b.reject()})}catch(c){return a.options.log&&i("sendChatMessage failed.",c.message),b.reject()}return b.promise()},addActiveUser:function(b){a.vm.activeUsers.remove(function(a){return a.UserId&&a.UserId==b.UserId}),a.vm.activeUsers.push(b),a.options.log&&i("added to activeUsers: "+b)},removeActiveUser:function(b){a.vm.activeUsers.remove(function(a){return a.UserId&&a.UserId==b.UserId}),a.options.log&&i("removed from activeUsers: "+b)},updateInfoMessage:function(b){a.vm.infoMessageStr(b),a.vm.showFlashingInfoMessage(!0),setTimeout(function(){a.vm.showFlashingInfoMessage(!1)},5e3)},showNotification:function(){function b(){var b="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAGEUlEQVRoQ+1Ze0idZRh/z7xrWuZl2mWYl2IIU3IKq1Xg/pibOeuPBO2PMtYcomxsboqoYypjXvKyILo4xoKSpXjpL+9RSGGotCCiJHPkdrykri2dl6n9fofvyOfZd8737Zzv1BZ+8KB+3/s+7/N7n/ujQTzkj+Ehl19sAfivNbilgf+lBtbX13XTrMFgWLd1SbodJAntgsPcQZ4g/u4Ifwq+CloELfN3JTCOHLBxMZLwFPxx0HZQIMgbtM0BE1vD3gXQn6BJ0CyBWILQC4ArmAcvLS3t6ujoSBsaGkqanp4OdUB409agoCBjXFxcR1JS0hceHh4/4tUUANyV89ULgA+YPtve3p7b2dmZubpKzevzuLi4iP37919KTU19Hxx/BYB5XQFI5uMPpnGlpaWXoYXQgIAA4e3tLXCY3SjAVywsLIiZmRmB2zeWlJS8BWZDoDm5Gdl/giSaBIA2v+fMmTPtISEhwt3d3SHhzagJYnl5WUxMTIizZ8+m4v139AlnAAgC4xfq6upafXx8dBFeDmJ+fl4cP378dbz7FjTtLAAvXrx4sUXNbHira2sMMNof7jly5Ih9ADQkJZohNfBSV1dX07Zt1iMnnfvOnTvi5s2bJtOgYFqfrKws7QDsSEp04hhQAEjJryjpGkLrY+Pj47uMRmPK5OSkLxxeq/zi6NGj2gDYmZTcIMkjIP5UemgzzKhMTAZo4Mne3t5SAHpUqzllZ2drBrCRlFpaWtKGh4dNSel+1G2JgH7BpLR79+7uQ4cOdXp5eS0NDAy8Ojg4+LZWvjk5OZoBmJLSlStXcpFVdU9KBw4c+DQtLe1LhMawpqamaq02lJubqw5AnpQKCgouLy4uhvr7+5uSkqMPk9Lc3Jzw9PQ0nj9/Ph/83Ovr6xu08j127JhmAKaklJeX1x4cHCzc3Nx0ies0lZWVFTE1NSWqq6vfpS8gb3ysBoDmh0xMJ34Na5nIrOcBSQOmpFRWVtbqaDlgKZy5PCguLs7it5qamo9sAaDwDMu4yPH09HSC/h5kvZSQA6iqqmpVS0pqt6f0nSBOnTpFAIba2toPuUYpuVFwOLvw9fUVYWFhjXv37q3B0p9tFnOWAOwRUMseCYBLW1vbBxSUvsGizVzF8uKo/R07dkzAB79G9PoMZjQM3pM2y2k5gIqKilYtwtizJj8//x3sM5fF7sgJmdeuXUucnZ3dAIGK9rfDhw8XYd3voD9AMyDbDY0cACKF0wAgwqVBGDYof4GYAKN6enpOAsQ+Mwjc/jcZGRklNBvaPeiuakspB3Du3DmnASgsLGRINEUUEFvRYFB0d3f3ybGxsX00qejo6Mbk5GTmiV9AC9aa+011ixxAeXm50wAUFRVtxHTJBAmCvXQ0OjqTJmJjYysSEhIu4d0YhLdaNFkFwDBqj31r2YMwuikpyeovEwhUACdiYmKaQkNDO/D3DUvHlZ9hDcCeysrKNmTi+yp51YRndEEmFqdPn74nKVmAiAIvyvYDndfWbEgJAEvjhIaGhk9QrzzF0Ka14LIFgMKzQUfLOY7oopiUZCBYlrMmM2Lf3zb5Wn4EE27c2dfXd2JkZCT91q1bgi2dZdnL+G2redmkZunm/fz8RFRUVGNiYqJiUuIeWS/CqngFAGyOOO5pPsCAG7ffvn37eZS7b6KUfmV0dDSEIMyacHV1FYGBgYLTB60gsG4S67+Kj4//HNlVMSmpmaDSdyUAfMeoQDU+DXrmwoUL5SjCIgiAwlPwyMjIvoMHDzJKcOyn1huap2wMmzdo19ynNvfUAkhxrCKpkZqgP+yEP5RCCy/Thil8REREb0pKynv4NgKijap16eY5J8MhSXHOqUVgyzVW50ISCDYCzzU3N+ddvXo13UL4n/BtSqMGTOfqceOaAUgO5YGfYf39/ZmYd+aHh4ebb57Cc+CqixnYc/PmPTYnc5JDP3H9+vUkOPQbmE8yejwwwpu0agu9ZEZ05ljJUWnzD8TNa9KAZEasFjkqZ/mrW/RwxGzke1WHu9AC/9PCeQ/n8rpFj38NgF4HOYuPqgacdbBefLcA6HWT9vLZ0oC9N6fXvn8ApsHFT+A73uoAAAAASUVORK5CYII=",c=new Notification(a.options.msgNotificationText||q.langChat.l("new_message_from_agent"),{icon:b,silent:!0});c.onclose=function(){a.vm.notification(null)},c.onclick=function(){window.focus()},a.vm.notification(c)}"Notification"in window&&!document.hasFocus()&&!a.vm.notification()&&("granted"===Notification.permission?b():"denied"!==Notification.permission&&Notification.requestPermission(function(a){"granted"===a&&b()}))},closeNotification:function(){var b=a.vm.notification();b&&b.close()},pollForQueuePosition:function(){return a.sendQueuePosition().always(function(){a.vm.needPollForQueuePosition()&&!a.vm.afterExit()&&a.model.IqSessionId&&!a.vm.requestDisconnected()&&setTimeout(function(){a.pollForQueuePosition()},3e4)})},sendQueuePosition:function(){var b=k.Deferred();try{if(!a.vm.needPollForQueuePosition()||null==a.model||0==a.model.RequestId)return b.reject();a.sendRequestQueuePositionService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,a.model.RequestId).done(function(c){return c.Ok?(a.options.log&&i("send queue position OK."),b.resolve()):(a.options.log&&i("send queue position failed. ",c.message),b.reject())}).fail(function(c){return a.options.log&&i("send queue position failed. ",c),b.reject()})}catch(c){return a.options.log&&i("send queue position failed.",c.message),b.reject()}return b.promise()},sendTracks:function(){var b=k.Deferred();try{if(!a.options.useTracker)return b.reject();a.options.log&&i("start to send tracks ..");var c=intelecomtracker.list(a.options.trackerArea);if(!c||0==c.length)return a.options.log&&i("no tracks to send on area "+a.options.trackerArea),b.reject();(c.length>a.options.trackerMaxTracks||c.length>100)&&(c=c.slice(-(a.options.trackerMaxTracks>0&&a.options.trackerMaxTracks<100?a.options.trackerMaxTracks:100))),a.sendTracksService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,a.options.trackerArea,c).done(function(c){return c.Ok?(a.options.log&&i("sent tracks OK."),b.resolve()):(a.options.log&&i("sent tracks failed.",c.message),b.reject())}).fail(function(c){return a.options.log&&i("sent tracks failed.",c),b.reject()}),intelecomtracker.clear(a.options.trackerArea)}catch(c){return a.options.log&&i("send tracks failed.",c.message),b.reject()}return b.promise()},sendThumbs:function(b,c){var d,e=k.Deferred();try{if(null==a.model.IqSessionId)return a.options.log&&i("send thumbs failed: no iqSessionId."),e.reject();d=b+"|"+c,a.sendMessageService(a.model.CustomerKey,a.model.IqSessionId,a.model.NickName,d,7).done(function(b){return b.Ok?(a.options.log&&i("send thumbs OK."),e.resolve()):(a.options.log&&i("send thumbs failed.",b.message),e.reject())}).fail(function(b){return a.options.log&&i("send thumbs.",b),e.reject()})}catch(b){return a.options.log&&i("sendThumbs failed.",b.message),e.reject()}return e.promise()},updateVariables:function(b){var c=k.Deferred();return a.model.IqSessionId&&a.model.RequestId?b&&"object"==typeof b?(a.options.log&&i("start updating variables. ",b),a.updateVariablesService(a.model.CustomerKey,a.model.IqSessionId,a.model.RequestId,b).done(function(b){a.options.log&&i("updated variables OK.")}).fail(function(b){return a.options.log&&i("update variables failed.",b),c.reject()}),c.promise()):(a.options.log&&i("cannot update variables because variables are not found or are not an object"),c.reject()):(a.options.log&&i("cannot update variables before chat is started"),c.reject())},endChatSessionService:function(a,b,c,d){return q.helpers.ajax("/Chat/EndChatSession/",{action:"EndChatSession",type:"POST",data:{customerKey:a,iqSessionId:b,requestId:c,nickName:d}})},startChatSessionService:function(a){return q.helpers.ajax("/Chat/StartChatSession/",{action:"StartChatSession",type:"POST",data:{model:a}})},continueChatSessionService:function(a,b,c){return q.helpers.ajax("/Chat/ContinueChatSession/",{action:"ContinueChatSession",type:"POST",data:{requestId:a,iqSessionId:b,model:c}})},sendMessageService:function(a,b,c,d,e){return q.helpers.ajax("/Chat/SendMessage/",{action:"SendMessage",type:"POST",data:{customerKey:a,iqSessionId:b,nickName:c,message:d,messageType:e}})},sendTracksService:function(a,b,c,d,e){return q.helpers.ajax("/Chat/SendTracks/",{action:"SendTracks",type:"POST",data:{customerKey:a,iqSessionId:b,nickName:c,area:d,tracks:e}})},sendEmailService:function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){return q.helpers.ajax("/Chat/SendEmail/",{action:"SendEmail",type:"POST",data:{customerKey:a,iqSessionId:b,toEmailAddress:c,emailSubject:d,customerCss:e,fromEmailDisplayName:f,languageCode:g,timezoneOffset:(new Date).getTimezoneOffset(),customerChat:!0,preText:h,postText:i,logoUrl:j,logoLink:k,logoAlt:l,topBackgroundColor:m,topLineColor:n,bottomLineColor:o,textStyle:p}})},getMessagesService:function(a,b,c){return q.helpers.ajax("/Chat/GetMessages/",{action:"GetMessages",data:{customerKey:a,iqSessionId:b,lastMessageId:c}})},sendRequestQueuePositionService:function(a,b,c,d){return q.helpers.ajax("/Chat/SendRequestQueuePosition/",{action:"SendRequestQueuePosition",type:"POST",data:{customerKey:a,iqSessionId:b,nickName:c,requestId:d}})},sendSurveyService:function(a,b,c,d,e,f,g,h,i,j,k,l){return q.helpers.ajax("/Chat/SendSurvey/",{action:"SendSurvey",type:"POST",data:{customerKey:a,iqSessionId:b,nickName:c,surveyQuestion:d,surveyResult:e,surveyMaxScore:f,surveyMinScore:g,surveyComment:h,offerSurvey:i,parentSessionId:j,queueKey:k,userId:l}})},getAuthState:function(a,b){return q.helpers.ajax("/Account/CreateAuthStateAndStoreValue/",{action:"CreateAuthStateAndStoreValue",type:"POST",data:{customerKey:a,value:b}})},updateVariablesService:function(a,b,c,d){var e=q.helpers.getV1BaseUrl()+"/sessions/"+a+"-"+b+"/variables?requestId="+c;return q.helpers.ajax(e,{action:"UpdateVariables",contentType:"application/json; charset=UTF-8",type:"POST",data:JSON.stringify(d)})},needAuthCode:function(){if(a.model.AuthCode)return!1;var b=q.helpers.getQueryStringValue("itcAuthCode");return!b||(a.model.AuthCode=b,!1)},authenticate:function(b){a.getAuthState(a.model.CustomerKey,window.location.href).done(function(c){if(b.startsWith("Signicat")){var d=q.helpers.getFullUrl("Account/ScCallback"),e=c.State,f=a.options.authEndpoint;if(!f)return a.options.log&&i("Authentication: no authEndpoint",error),a.vm.errorMessageHeader("Error"),a.vm.errorMessage("Authenticate failed, no authEndpoint found"),void a.vm.showError(!0);var g=a.options.authClientId;if(!g)return a.options.log&&i("Authentication: no authClientId",error),a.vm.errorMessageHeader("Error"),a.vm.errorMessage("Authenticate failed, no authClientId found"),void a.vm.showError(!0);var h=f+"/authorize?scope=openid%20profile%20signicat.national_id&acr_values=urn:signicat:oidc:method:nbid&response_type=code&client_id="+g+"&state="+e+"&redirect_uri="+d;window.location.replace(h)}}).fail(function(b){a.options.log&&i("authenticate failed",b),a.vm.errorMessageHeader("Error"),a.vm.errorMessage("Authenticate failed"),a.vm.showError(!0)})},logOutFromAuth:function(){if(a.model.AuthConnectionName){var b=window.location.href;return b=b.replace(/[&?]itcAuthCode=[^&]*/g,""),window.location.replace(b),!1}return!1},getTriggerData:function(){var b=[];return a.vm.denyArchiving()||c.utils.arrayForEach(a.vm.chatMessages(),function(a){"TYPE_MSG"==a.Message()||g.string.startsWith(a.Message(),"REQUEST_QUEUEPOSITION:")||b.push({Message:a.Message(),Sent:a.Sent(),NickName:a.NickName(),UserId:a.UserId()})}),{ActiveUsers:a.vm.activeUsers(),ChatMessages:b,SurveyResult:a.vm.surveyResult(),SurveyComment:a.vm.surveyComment(),BeenInConference:a.vm.beenInConference(),BrowserSupported:a.vm.browserSupported(),ChattersEmailAddress:a.vm.toEmailAddress(),ChattersName:a.model.NickName,ChatIssue:a.model.ChatIssue,ChatId:a.model.ChatId,IqSessionId:a.model.IqSessionId,RequestId:a.model.RequestId,IsMobile:a.model.IsMobile,Variables:a.model.Variables,LanguageCode:a.model.LanguageCode,WasConnected:a.wasConnected,LastConnectedUserId:a.lastConnectedUserId,QueueKey:a.model.EnteredQueueKey||a.model.QueueKey}}};q.chat={create:function(b,c){return q.langChat.create(c.languageCode),q.extend(a,{minWidth:300,minHeight:500,refreshRate:1500,typingMsgTimeout:1e4,options:c,model:q.chatModel.create(c),vm:q.chatViewModel.create(c),chatContainer:b,chatDialog:null,surveyParentSessionId:null,wasConnected:!1,lastConnectedUserId:null})}}}(),q});
